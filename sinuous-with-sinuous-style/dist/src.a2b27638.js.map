{"version":3,"sources":["node_modules/sinuous-style/src/utils.js","node_modules/sinuous-style/src/scopeStyles.js","../observable/src/observable.js","../observable/src/utils.js","../htm/src/build.js","../htm/src/index.js","../h/src/api.js","../h/src/constants.js","../h/src/add.js","../h/src/property.js","../h/src/h.js","../src/index.js","../h/src/index.js","../h/src/insert.js","../h/src/clear.js","node_modules/sinuous-style/src/index.js","src/components/card.js","src/tasks/counter.js","src/tasks/temperatureConverter.js","src/tasks/flightBooker.js","src/tasks/timer.js","src/tasks/crud.js","src/tasks/circleDrawer.js","src/tasks/cells/sampleData.js","src/tasks/cells/parse.js","src/tasks/cells/cells.js","src/app.js","src/index.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["isFunction","item","RULE_BLOCK","COMMA","AT_RULE","WHITESPACE","LIMITER","FUNCTION","SELECTOR","END","tokenize","styles","flatMap","section","split","tokens","bracketStack","chars","type","pushToken","push","token","join","undefined","char","charsLength","i","length","includes","insertScopeName","selector","scopeName","first","slice","second","scopeSelectors","styleTokens","reduce","acc","current","sections","scopeStyles","EMPTY_ARR","tracking","queue","isListening","root","fn","prevTracking","rootUpdate","resetUpdate","result","_unsubscribe","sample","value","transaction","prevQueue","q","forEach","data","_pending","pending","observable","nextValue","arguments","_observers","has","add","_observables","clearedUpdate","_runObservers","Set","observer","_fresh","$o","computed","update","_children","prevChildren","u","indexOf","getChildrenDeep","children","res","curr","concat","removeFreshChildren","o","_update","delete","cleanup","_cleanups","subscribe","on","obs","seed","onchanges","unsubscribe","c","evaluate","h","built","fields","args","propBody","field","Object","assign","key","prev","parts","prop","j","call","this","apply","build","statics","propName","mode","buffer","quote","commit","replace","CACHES","Map","regular","tmp","get","set","custom","Array","isArray","bind","wrap","api","groupCounter","parent","endMark","mark","document","createTextNode","Node","nodeType","firstChild","lastChild","t","insertBefore","eventProxy","e","_listeners","context","options","isSvg","from","el","arg","createElementNS","createElement","createDocumentFragment","property","insert","splice","hs","html","htm","svg","startNode","parentNode","previousSibling","nextSibling","removeChild","textContent","name","isAttr","isCss","style","setProperty","setAttribute","cssText","toLowerCase","addEventListener","removeEventListener","scopeNameCounts","styleElementIds","pipe","f","g","originalH","scopeElementClasses","injectScopeName","head","querySelector","addStyleElement","styleElement","append","removeStyleByClassName","className","element","querySelectorAll","nodeName","id","remove","local","global","props","class","modifiedScopeName","rest","wrapInScope","newScopeName","callback","outerScopeName","staticScopeName","$s","temp","baseClass","wrapApiFunction","templateArgs","sinuousHtml","sinuousSvg","card","title","counter","count","trunc","n","Number","toFixed","remove0","test","getC","getF","r","isValid","temperatureConverter","updateFromC","updateFromF","to","target","flightMap","tryAsDate","dateString","dateArr","reverse","date","Date","valueOf","formatAsString","toISOString","flightBooker","flightType","startDate","returnDate","error1","error2","error3","isBookButtonDisabled","isOneWay","startDateClass","returnDateClass","book","timeStrings","alert","timer","MAX","duration","durationFormatted","start","time","progress","interval","createInterval","setInterval","startTimer","clearInterval","crud","prefix","entries","filteredEntries","map","entry","filter","startsWith","surname","selected","createHandler","updateHandler","deleteHandler","circleDrawer","BASE_RADIUS","step","snapshots","radius","resizing","present","resizingIndex","findIndex","circle","x","y","newPresent","handleRightClick","preventDefault","stopPropagation","cx","baseVal","cy","addCircle","layerX","layerY","newSnapshot","addSnapshot","newSnapshots","undo","Math","max","redo","min","endResize","overlay","circleSVG","view","cir","sampleData","A0","A1","A2","A3","B1","B2","A5","B5","A6","B6","A7","B7","A8","B8","A9","B9","A10","B10","C0","D0","C1","D1","C2","D2","C3","D3","C4","D4","C5","D5","C7","D7","C8","D8","C9","D9","C10","D10","C11","D11","C12","D12","C14","D14","C15","D15","Parser","store","columns","rows","cells","operations","sum","a","b","sub","mul","div","mod","exp","letters","numbers","letter","number","arr","end","startI","endI","rangeStart","rangeEnd","splitOperand","findArrRange","cartesianProduct","operand","match","op","isWellFormed","originalString","range","getRange","address","parse","operand1","operand2","parseOperand","toString","isNaN","formula","endsWith","operationType","formulaArr","singleOperation","rangeOperation","str","parseOperation","toUpperCase","LETTERS","keys","letterRange","getNumberAsLetters","getBase26","remainder","floor","num","findAdjacent","direction","index","shape","p","focused","tBody","createNewCell","dataRef","handleFocus","setTimeout","setSelectionRange","handleBlur","handleInput","handleKeydown","column","row","newRow","altKey","newColumn","input","focus","clear","app","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","every","generated","js","console","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","createErrorOverlay","body","appendChild","getElementById","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["export const isFunction = (item) => typeof item === \"function\";\n","import { isFunction } from \"./utils\";\n\n// Token types\nconst RULE_BLOCK = 1;\nconst COMMA = 2;\nconst AT_RULE = 3;\nconst WHITESPACE = 4;\nconst LIMITER = 5;\nconst FUNCTION = 6;\nconst SELECTOR = 7;\nconst END = 8;\n\n/**\n * Tokenizes an array of style strings from a <style /> element.\n * Style elements can contain observables (or other values),\n * making the array of the following form:\n *\n * ['div { background: ', observableFn, '; }']\n *\n * Note: only obserables within a rule-block are expected.\n * Observables or other values in the place of selectors\n * or other css entities will lead to unexpected behavior.\n *\n * @param {Array} styles - An array of strings potentially interspersed with observables and other values\n * @return {Array} An array of tokens: RULE_BLOCK | COMMA | AT_RULE | WHITESPACE | LIMITER | FUNCTION | SELECTOR\n */\nfunction tokenize(styles) {\n  styles = styles.flatMap((section) =>\n    typeof section === \"string\" ? section.split(\"\") : section\n  );\n\n  let tokens = [];\n  let bracketStack = 0;\n  let chars = [];\n  let type;\n\n  function pushToken() {\n    tokens.push({\n      token: chars.join(\"\"),\n      type,\n    });\n    type = undefined;\n    chars = [];\n  }\n\n  let char;\n  let charsLength;\n  for (let i = 0; i < styles.length; i++) {\n    char = styles[i];\n    charsLength = chars.length;\n    if (isFunction(char)) {\n      if (charsLength) {\n        pushToken();\n      }\n      tokens.push({ token: char, type: FUNCTION });\n    } else if (bracketStack) {\n      if (!charsLength) {\n        type = RULE_BLOCK;\n      }\n      chars.push(char);\n      if (char === \"{\") {\n        bracketStack++;\n      } else if (char === \"}\") {\n        bracketStack--;\n        if (!bracketStack) {\n          pushToken();\n        }\n      }\n    } else {\n      if (char === \"{\") {\n        if (charsLength) {\n          pushToken();\n        }\n        bracketStack++;\n        type = RULE_BLOCK;\n        chars.push(char);\n      } else if (char === \",\") {\n        if (charsLength && type !== AT_RULE) {\n          pushToken();\n        }\n        type = COMMA;\n        chars.push(char);\n        pushToken();\n      } else if (\">+~\".includes(char) && type !== SELECTOR) {\n        if (charsLength && type !== AT_RULE) {\n          pushToken();\n          tokens.push({ token: char, type: LIMITER });\n        } else {\n          chars.push(char);\n        }\n      } else if (\" \\n\\t\\r\".includes(char)) {\n        if (charsLength && ![WHITESPACE, AT_RULE].includes(type)) {\n          pushToken();\n        }\n        type = WHITESPACE;\n        chars.push(char);\n      } else if (char === \"@\") {\n        if (charsLength) {\n          pushToken();\n        }\n        type = AT_RULE;\n        chars.push(char);\n      } else {\n        if (!charsLength) {\n          type = SELECTOR;\n          chars.push(char);\n        } else if ([SELECTOR, AT_RULE].includes(type)) {\n          chars.push(char);\n        } else {\n          pushToken();\n          type = SELECTOR;\n          chars.push(char);\n        }\n      }\n    }\n  }\n\n  if (chars.length) {\n    pushToken();\n  }\n\n  return tokens;\n}\n\n/**\n * Adds the `scopeName` after tags but before ids, other classNames,\n * pseudoSelectors, and attribute selectors. For example:\n *\n * `div.some-class` becomes `div.<scopeName>.some-class`\n *\n * @param {String} selector - A css selector\n * @param {String} scopeName - The className used to scope the `selector`\n * @return {String}\n */\nfunction insertScopeName(selector, scopeName) {\n  let i = 0;\n  while (!\"#.:[\".includes(selector[i]) && i !== selector.length) {\n    i++;\n  }\n  let first = selector.slice(0, i);\n  let second = selector.slice(i);\n  return first + \".\" + scopeName + second;\n}\n\n/**\n * @param {Array} styleTokens - The result of `tokenize(styles)`\n * @param {String} scopeName - The className used to scope the `Selector` tokens\n * @return {Array} An array of the form of `styles` passed to `tokenize`,\n * but with all the selectors scoped to `scopeName`\n */\nfunction scopeSelectors(styleTokens, scopeName) {\n  styleTokens.push({ type: END });\n  let styles = styleTokens.reduce(\n    (acc, token) => {\n      let current = acc[0];\n      let sections = acc[1];\n      if (token.type === SELECTOR) {\n        current.push(insertScopeName(token.token, scopeName));\n      } else if (token.type === FUNCTION) {\n        sections.push(current.join(\"\"));\n        sections.push(token.token);\n        current = [];\n      } else if (token.type === END) {\n        sections.push(current.join(\"\"));\n        return sections;\n      } else {\n        current.push(token.token);\n      }\n      return [current, sections];\n    },\n    [\n      [], // current section\n      [], // sections thus far\n    ]\n  );\n  return styles;\n}\n\n/**\n * Scopes `styles` from a <style /> element.\n * Style elements can contain observables (or other values),\n * making the `styles` array of the following form:\n *\n * ['div.classes { background: ', observableFn, '; }']\n *\n * It returns an array of the following form:\n *\n * ['div.scopeName.classes { background: ', observableFn, '; }']\n *\n * Note: only obserables within a rule-block are expected.\n * Observables or other values in the place of selectors\n * or other css entities will lead to unexpected behavior.\n *\n * @param {Array} styles - An array of style strings and inclusions (observables and other values)\n * @param {Array} scopeName - A string representing a className to inject into the styles\n * @return {Array} A `styles` array but with css selectors now scoped to the `scopeName`\n */\nexport function scopeStyles(styles, scopeName) {\n  return scopeSelectors(tokenize(styles), scopeName);\n}\n","import { getChildrenDeep } from './utils.js';\n\nconst EMPTY_ARR = [];\nlet tracking;\nlet queue;\n\n/**\n * Returns true if there is an active observer.\n * @return {boolean}\n */\nexport function isListening() {\n  return !!tracking;\n}\n\n/**\n * Creates a root and executes the passed function that can contain computations.\n * The executed function receives an `unsubscribe` argument which can be called to\n * unsubscribe all inner computations.\n *\n * @param  {Function} fn\n * @return {*}\n */\nexport function root(fn) {\n  const prevTracking = tracking;\n  const rootUpdate = () => {};\n  tracking = rootUpdate;\n  resetUpdate(rootUpdate);\n  const result = fn(() => {\n    _unsubscribe(rootUpdate);\n    tracking = undefined;\n  });\n  tracking = prevTracking;\n  return result;\n}\n\n/**\n * Sample the current value of an observable but don't create a dependency on it.\n *\n * @example\n * computed(() => { if (foo()) bar(sample(bar) + 1); });\n *\n * @param  {Function} fn\n * @return {*}\n */\nexport function sample(fn) {\n  const prevTracking = tracking;\n  tracking = undefined;\n  const value = fn();\n  tracking = prevTracking;\n  return value;\n}\n\n/**\n * Creates a transaction in which an observable can be set multiple times\n * but only trigger a computation once.\n * @param  {Function} fn\n * @return {*}\n */\nexport function transaction(fn) {\n  let prevQueue = queue;\n  queue = [];\n  const result = fn();\n  let q = queue;\n  queue = prevQueue;\n  q.forEach(data => {\n    if (data._pending !== EMPTY_ARR) {\n      const pending = data._pending;\n      data._pending = EMPTY_ARR;\n      data(pending);\n    }\n  });\n  return result;\n}\n\n/**\n * Creates a new observable, returns a function which can be used to get\n * the observable's value by calling the function without any arguments\n * and set the value by passing one argument of any type.\n *\n * @param  {*} value - Initial value.\n * @return {Function}\n */\nfunction observable(value) {\n  function data(nextValue) {\n    if (arguments.length === 0) {\n      if (tracking && !data._observers.has(tracking)) {\n        data._observers.add(tracking);\n        tracking._observables.push(data);\n      }\n      return value;\n    }\n\n    if (queue) {\n      if (data._pending === EMPTY_ARR) {\n        queue.push(data);\n      }\n      data._pending = nextValue;\n      return nextValue;\n    }\n\n    value = nextValue;\n\n    // Clear `tracking` otherwise a computed triggered by a set\n    // in another computed is seen as a child of that other computed.\n    const clearedUpdate = tracking;\n    tracking = undefined;\n\n    // Update can alter data._observers, make a copy before running.\n    data._runObservers = new Set(data._observers);\n    data._runObservers.forEach(observer => (observer._fresh = false));\n    data._runObservers.forEach(observer => {\n      if (!observer._fresh) observer();\n    });\n\n    tracking = clearedUpdate;\n    return value;\n  }\n\n  // Tiny indicator that this is an observable function.\n  data.$o = true;\n  data._observers = new Set();\n  // The 'not set' value must be unique, so `nullish` can be set in a transaction.\n  data._pending = EMPTY_ARR;\n\n  return data;\n}\n\n/**\n * @namespace\n * @borrows observable as o\n */\nexport { observable, observable as o };\n\n/**\n * Creates a new computation which runs when defined and automatically re-runs\n * when any of the used observable's values are set.\n *\n * @param {Function} observer\n * @param {*} value - Seed value.\n * @return {Function} Computation which can be used in other computations.\n */\nfunction computed(observer, value) {\n  observer._update = update;\n\n  // if (tracking == null) {\n  //   console.warn(\"computations created without a root or parent will never be disposed\");\n  // }\n\n  resetUpdate(update);\n  update();\n\n  function update() {\n    const prevTracking = tracking;\n    if (tracking) {\n      tracking._children.push(update);\n    }\n\n    const prevChildren = update._children;\n\n    _unsubscribe(update);\n    update._fresh = true;\n    tracking = update;\n    value = observer(value);\n\n    // If any children computations were removed mark them as fresh.\n    // Check the diff of the children list between pre and post update.\n    prevChildren.forEach(u => {\n      if (update._children.indexOf(u) === -1) {\n        u._fresh = true;\n      }\n    });\n\n    // If any children were marked as fresh remove them from the run lists.\n    const allChildren = getChildrenDeep(update._children);\n    allChildren.forEach(removeFreshChildren);\n\n    tracking = prevTracking;\n    return value;\n  }\n\n  // Tiny indicator that this is an observable function.\n  data.$o = true;\n\n  function data() {\n    if (update._fresh) {\n      update._observables.forEach(o => o());\n    } else {\n      value = update();\n    }\n    return value;\n  }\n\n  return data;\n}\n\nfunction removeFreshChildren(u) {\n  if (u._fresh) {\n    u._observables.forEach(o => {\n      if (o._runObservers) {\n        o._runObservers.delete(u);\n      }\n    });\n  }\n}\n\n/**\n * @namespace\n * @borrows computed as S\n */\nexport { computed, computed as S };\n\n/**\n * Run the given function just before the enclosing computation updates\n * or is disposed.\n * @param  {Function} fn\n * @return {Function}\n */\nexport function cleanup(fn) {\n  if (tracking) {\n    tracking._cleanups.push(fn);\n  }\n  return fn;\n}\n\n/**\n * Subscribe to updates of an observable.\n * @param  {Function} observer\n * @return {Function}\n */\nexport function subscribe(observer) {\n  computed(observer);\n  return () => _unsubscribe(observer._update);\n}\n\n/**\n * Statically declare a computation's dependencies.\n *\n * @param  {Function|Array}   obs\n * @param  {Function} fn - Callback function.\n * @param  {*} [seed] - Seed value.\n * @param  {boolean} [onchanges] - If true the initial run is skipped.\n * @return {Function} Computation which can be used in other computations.\n */\nexport function on(obs, fn, seed, onchanges) {\n  obs = [].concat(obs);\n  return computed((value) => {\n    obs.forEach((o) => o());\n\n    let result = value;\n    if (!onchanges) {\n      result = sample(() => fn(value));\n    }\n\n    onchanges = false;\n    return result;\n  }, seed);\n}\n\n/**\n * Unsubscribe from an observer.\n * @param  {Function} observer\n */\nexport function unsubscribe(observer) {\n  _unsubscribe(observer._update);\n}\n\nfunction _unsubscribe(update) {\n  update._children.forEach(_unsubscribe);\n  update._observables.forEach(o => {\n    o._observers.delete(update);\n    if (o._runObservers) {\n      o._runObservers.delete(update);\n    }\n  });\n  update._cleanups.forEach(c => c());\n  resetUpdate(update);\n}\n\nfunction resetUpdate(update) {\n  // Keep track of which observables trigger updates. Needed for unsubscribe.\n  update._observables = [];\n  update._children = [];\n  update._cleanups = [];\n}\n","export function getChildrenDeep(children) {\n  return children.reduce(\n    (res, curr) => res.concat(curr, getChildrenDeep(curr._children)),\n    []\n  );\n}\n","import { MINI } from './constants.js';\n\nconst MODE_SLASH = 0;\nconst MODE_TEXT = 1;\nconst MODE_WHITESPACE = 2;\nconst MODE_TAGNAME = 3;\nconst MODE_COMMENT = 4;\nconst MODE_PROP_SET = 5;\nconst MODE_PROP_APPEND = 6;\n\nconst TAG_SET = 1;\nconst CHILD_APPEND = 0;\nconst CHILD_RECURSE = 2;\nconst PROPS_ASSIGN = 3;\nconst PROP_SET = MODE_PROP_SET;\nconst PROP_APPEND = MODE_PROP_APPEND;\n\n// Turn a result of a build(...) call into a tree that is more\n// convenient to analyze and transform (e.g. Babel plugins).\n// For example:\n//  treeify(\n//    build'<div href=\"1${a}\" ...${b}><${x} /></div>`,\n//    [X, Y, Z]\n//  )\n// returns:\n//  {\n//    tag: 'div',\n//    props: [ { href: [\"1\", X] },  Y ],\n//    children: [ { tag: Z, props: [], children: [] } ]\n//  }\nexport const treeify = (built, fields) => {\n  const _treeify = built => {\n    let tag = '';\n    let currentProps = null;\n    const props = [];\n    const children = [];\n\n    for (let i = 1; i < built.length; i++) {\n      const field = built[i++];\n      const value = typeof field === 'number' ? fields[field - 1] : field;\n\n      if (built[i] === TAG_SET) {\n        tag = value;\n      }\n      else if (built[i] === PROPS_ASSIGN) {\n        props.push(value);\n        currentProps = null;\n      }\n      else if (built[i] === PROP_SET) {\n        if (!currentProps) {\n          currentProps = Object.create(null);\n          props.push(currentProps);\n        }\n        currentProps[built[++i]] = [value];\n      }\n      else if (built[i] === PROP_APPEND) {\n        currentProps[built[++i]].push(value);\n      }\n      else if (built[i] === CHILD_RECURSE) {\n        children.push(_treeify(value));\n      }\n      else if (built[i] === CHILD_APPEND) {\n        children.push(value);\n      }\n    }\n\n    return { tag, props, children };\n  };\n  const { children } = _treeify(built);\n  return children.length > 1 ? children : children[0];\n};\n\n\nexport const evaluate = (h, built, fields, args) => {\n  let propBody = {};\n  for (let i = 1; i < built.length; i++) {\n    const field = built[i];\n    const value = typeof field === 'number' ? fields[field] : field;\n    const type = built[++i];\n\n    if (type === TAG_SET) {\n      args[0] = value;\n    }\n    else if (type === PROPS_ASSIGN) {\n      args[1] = Object.assign(args[1] || {}, value);\n    }\n    else if (type === PROP_SET) {\n      (args[1] = args[1] || {})[built[++i]] = value;\n    }\n    else if (type === PROP_APPEND) {\n      let key = built[++i];\n      let prev = (args[1] = args[1] || {})[key];\n      let parts = propBody[key];\n\n      if (!parts && (typeof value === 'function' || typeof prev === 'function')) {\n        parts = (prev && [prev]) || [];\n\n        args[1][key] = function() {\n          let prop = '';\n          for (var j = 0; j < parts.length; j++) {\n            prop += typeof parts[j] === 'function' ? parts[j].call(this) : parts[j];\n          }\n          return prop;\n        };\n      }\n\n      if (parts) {\n        parts.push(value);\n      } else {\n        args[1][key] += (value + '');\n      }\n    }\n    else if (type) {\n      // code === CHILD_RECURSE\n      const result = () => h.apply(null, evaluate(h, value, fields, ['', null]));\n\n      // if it's a component we pass the children with closure so the\n      // component is executed before the children of that component.\n      args.push(typeof args[0] === 'function' ? result : result());\n    }\n    else {\n      // code === CHILD_APPEND\n      args.push(value);\n    }\n  }\n\n  return args;\n};\n\nexport const build = function(statics) {\n  const fields = arguments;\n  const h = this;\n\n  let mode = MODE_TEXT;\n  let buffer = '';\n  let quote = '';\n  let current = [0];\n  let char, propName;\n\n  const commit = field => {\n    if (mode === MODE_TEXT && (field || (buffer = buffer.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,'')))) {\n      if (MINI) {\n        current.push(field ? fields[field] : buffer);\n      }\n      else {\n        current.push(field || buffer, CHILD_APPEND);\n      }\n    }\n    else if (mode === MODE_TAGNAME && (field || buffer)) {\n      if (MINI) {\n        current[1] = field ? fields[field] : buffer;\n      }\n      else {\n        current.push(field || buffer, TAG_SET);\n      }\n      mode = MODE_WHITESPACE;\n    }\n    else if (mode === MODE_WHITESPACE && buffer === '...' && field) {\n      if (MINI) {\n        current[2] = Object.assign(current[2] || {}, fields[field]);\n      }\n      else {\n        current.push(field, PROPS_ASSIGN);\n      }\n    }\n    else if (mode === MODE_WHITESPACE && buffer && !field) {\n      if (MINI) {\n        (current[2] = current[2] || {})[buffer] = true;\n      }\n      else {\n        current.push(true, PROP_SET, buffer);\n      }\n    }\n    else if (mode >= MODE_PROP_SET) {\n      if (MINI) {\n        if (mode === MODE_PROP_SET) {\n          (current[2] = current[2] || {})[propName] = field ? buffer ? (buffer + fields[field]) : fields[field] : buffer;\n          mode = MODE_PROP_APPEND;\n        }\n        else if (field || buffer) {\n          current[2][propName] += field ? buffer + fields[field] : buffer;\n        }\n      }\n      else {\n        if (buffer || (!field && mode === MODE_PROP_SET)) {\n          current.push(buffer, mode, propName);\n          mode = MODE_PROP_APPEND;\n        }\n        if (field) {\n          current.push(field, mode, propName);\n          mode = MODE_PROP_APPEND;\n        }\n      }\n    }\n\n    buffer = '';\n  };\n\n  for (let i=0; i<statics.length; i++) {\n    if (i) {\n      if (mode === MODE_TEXT) {\n        commit();\n      }\n      commit(i);\n    }\n\n    for (let j=0; j<statics[i].length;j++) {\n      char = statics[i][j];\n\n      if (mode === MODE_TEXT) {\n        if (char === '<') {\n          // commit buffer\n          commit();\n          if (MINI) {\n            current = [current, '', null];\n          }\n          else {\n            current = [current];\n          }\n          mode = MODE_TAGNAME;\n        }\n        else {\n          buffer += char;\n        }\n      }\n      else if (mode === MODE_COMMENT) {\n        // Ignore everything until the last three characters are '-', '-' and '>'\n        if (buffer === '--' && char === '>') {\n          mode = MODE_TEXT;\n          buffer = '';\n        }\n        else {\n          buffer = char + buffer[0];\n        }\n      }\n      else if (quote) {\n        if (char === quote) {\n          quote = '';\n        }\n        else {\n          buffer += char;\n        }\n      }\n      else if (char === '\"' || char === \"'\") {\n        quote = char;\n      }\n      else if (char === '>') {\n        commit();\n        mode = MODE_TEXT;\n      }\n      else if (!mode) {\n        // Ignore everything until the tag ends\n      }\n      else if (char === '=') {\n        mode = MODE_PROP_SET;\n        propName = buffer;\n        buffer = '';\n      }\n      else if (char === '/' && (mode < MODE_PROP_SET || statics[i][j+1] === '>')) {\n        commit();\n        if (mode === MODE_TAGNAME) {\n          current = current[0];\n        }\n        mode = current;\n        if (MINI) {\n          (current = current[0]).push(h.apply(null, mode.slice(1)));\n        }\n        else {\n          (current = current[0]).push(mode, CHILD_RECURSE);\n        }\n        mode = MODE_SLASH;\n      }\n      else if (char === ' ' || char === '\\t' || char === '\\n' || char === '\\r') {\n        // <a disabled>\n        commit();\n        mode = MODE_WHITESPACE;\n      }\n      else {\n        buffer += char;\n      }\n\n      if (mode === MODE_TAGNAME && buffer === '!--') {\n        mode = MODE_COMMENT;\n        current = current[0];\n      }\n    }\n  }\n  commit();\n\n  if (MINI) {\n    return current.length > 2 ? current.slice(1) : current[1];\n  }\n  return current;\n};\n","/**\n * Copyright 2018 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *     http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MINI } from './constants.js';\nimport { build, evaluate } from './build.js';\n\nconst CACHES = new Map();\n\nconst regular = function(statics) {\n  let tmp = CACHES.get(this);\n  if (!tmp) {\n    tmp = new Map();\n    CACHES.set(this, tmp);\n  }\n  tmp = evaluate(this, tmp.get(statics) || (tmp.set(statics, tmp = build(statics)), tmp), arguments, []);\n  return tmp.length > 1 ? tmp : tmp[0];\n};\n\nconst custom = function() {\n  const result = (MINI ? build : regular).apply(this, arguments);\n  if (result) {\n    return Array.isArray(result)\n      ? this(result)\n      : typeof result === 'object'\n      ? result\n      : this([result]);\n  }\n};\n\nconst wrapper = function() {\n  const h = custom.bind(this);\n  return (this.wrap || h).apply(h, arguments);\n};\n\nexport default wrapper;\n","/*\n * @param {object} api\n * @param {Function} [api.subscribe] - Function that listens to state changes.\n * @param {Function} [api.cleanup] - Add the given function to the cleanup stack.\n */\nexport const api = {};\n","export const EMPTY_ARR = [];\nexport const GROUPING = '__g';\n","import { api } from './api.js';\nimport { EMPTY_ARR, GROUPING } from './constants.js';\n\nlet groupCounter = 0;\n\nexport function add(parent, value, endMark) {\n  let mark;\n\n  if (typeof value === 'string') {\n    value = document.createTextNode(value);\n  } else if (!(value instanceof Node)) {\n    // Passing an empty array creates a DocumentFragment.\n    value = api.h(EMPTY_ARR, value);\n  }\n\n  if (\n    value.nodeType === 11 &&\n    (mark = value.firstChild) &&\n    mark !== value.lastChild\n  ) {\n    mark[GROUPING] = value.lastChild[GROUPING] = ++groupCounter;\n  }\n\n  // If endMark is `null`, value will be added to the end of the list.\n  parent.insertBefore(value, endMark);\n\n  // Explicit undefined to store if frag.firstChild is null.\n  return mark === undefined ? value : mark;\n}\n","import { api } from './api.js';\n\nexport function property(el, value, name, isAttr, isCss) {\n  if (value == null) return;\n  if (!name || (name === 'attrs' && (isAttr = true))) {\n    for (name in value) {\n      api.property(el, value[name], name, isAttr, isCss);\n    }\n  } else if (name[0] === 'o' && name[1] === 'n' && !value.$o) {\n    // Functions added as event handlers are not executed\n    // on render unless they have an observable indicator.\n    handleEvent(el, name, value);\n  } else if (typeof value === 'function') {\n    api.subscribe(function setProperty() {\n      api.property(el, value.call({ el, name }), name, isAttr, isCss);\n    });\n  } else if (isCss) {\n    el.style.setProperty(name, value);\n  } else if (\n    isAttr ||\n    name.slice(0, 5) === 'data-' ||\n    name.slice(0, 5) === 'aria-'\n  ) {\n    el.setAttribute(name, value);\n  } else if (name === 'style') {\n    if (typeof value === 'string') {\n      el.style.cssText = value;\n    } else {\n      api.property(el, value, null, isAttr, true);\n    }\n  } else {\n    if (name === 'class') name += 'Name';\n    el[name] = value;\n  }\n}\n\nfunction handleEvent(el, name, value) {\n  name = name.slice(2).toLowerCase();\n\n  if (value) {\n    el.addEventListener(name, eventProxy);\n  } else {\n    el.removeEventListener(name, eventProxy);\n  }\n\n  (el._listeners || (el._listeners = {}))[name] = value;\n}\n\n/**\n * Proxy an event to hooked event handlers.\n * @param {Event} e - The event object from the browser.\n * @return {Function}\n */\nfunction eventProxy(e) {\n  // eslint-disable-next-line\n  return this._listeners[e.type](e);\n}\n","/* Adapted from Hyper DOM Expressions - The MIT License - Ryan Carniato */\nimport { api } from './api.js';\nimport { add } from './add.js';\n\n/**\n * Create a sinuous `h` tag aka hyperscript.\n * @param {object} options\n * @param  {boolean} isSvg\n * @return {Function} `h` tag.\n */\nexport function context(options, isSvg) {\n  for (let i in options) api[i] = options[i];\n\n  function h() {\n    const args = Array.from(arguments);\n    let el;\n\n    function item(arg) {\n      if (arg == null);\n      else if (typeof arg === 'string') {\n        if (el) {\n          add(el, arg);\n        } else {\n          if (isSvg) {\n            el = document.createElementNS('http://www.w3.org/2000/svg', arg);\n          } else {\n            el = document.createElement(arg);\n          }\n        }\n      } else if (Array.isArray(arg)) {\n        // Support Fragments\n        if (!el) el = document.createDocumentFragment();\n        arg.forEach(item);\n      } else if (arg instanceof Node) {\n        if (el) {\n          add(el, arg);\n        } else {\n          // Support updates\n          el = arg;\n        }\n      } else if (typeof arg === 'object') {\n        api.property(el, arg, null, isSvg);\n      } else if (typeof arg === 'function') {\n        if (el) {\n          const endMark = add(el, '');\n          api.insert(el, arg, endMark);\n        } else {\n          // Support Components\n          el = arg.apply(null, args.splice(1));\n        }\n      } else {\n        add(el, '' + arg);\n      }\n    }\n\n    args.forEach(item);\n    return el;\n  }\n\n  return h;\n}\n","import { app } from \"./app\";\n\ndocument.querySelector(\"#root\").append(app());\n","/* Adapted from DOM Expressions - The MIT License - Ryan Carniato */\nimport { add } from './add.js';\nimport { insert } from './insert.js';\nimport { property } from './property.js';\nimport { api } from './api.js';\n\napi.insert = insert;\napi.property = property;\napi.add = add;\n\nexport { context } from './h.js';\nexport { api };\n","import { api } from './api.js';\nimport { add } from './add.js';\nimport { clear } from './clear.js';\n\nexport function insert(el, value, endMark, current, startNode) {\n  // This is needed if the el is a DocumentFragment initially.\n  el = (endMark && endMark.parentNode) || el;\n\n  // Save startNode of current. In clear() endMark.previousSibling\n  // is not always accurate if content gets pulled before clearing.\n  startNode = startNode || current instanceof Node && current;\n\n  if (value === current);\n  else if (\n    (!current || typeof current === 'string') &&\n    (typeof value === 'string' || (typeof value === 'number' && (value += '')))\n  ) {\n    // Block optimized for string insertion.\n    if (current == null || !el.firstChild) {\n      if (endMark) {\n        add(el, value, endMark);\n      } else {\n        // textContent is a lot faster than append -> createTextNode.\n        el.textContent = value;\n      }\n    } else {\n      if (endMark) {\n        (endMark.previousSibling || el.lastChild).data = value;\n      } else {\n        el.firstChild.data = value;\n      }\n    }\n    current = value;\n  } else if (typeof value === 'function') {\n    api.subscribe(function insertContent() {\n      current = api.insert(el, value.call({ el, endMark }), endMark, current, startNode);\n    });\n  } else {\n    // Block for nodes, fragments, Arrays, non-stringables and node -> stringable.\n    clear(el, current, endMark, startNode);\n    current = null;\n\n    if (value && value !== true) {\n      current = add(el, value, endMark);\n    }\n  }\n\n  return current;\n}\n","import { GROUPING } from './constants.js';\n\n/**\n * Clear all nodes in the parent.\n * @param  {Node} parent\n * @param  {*} current\n * @param  {Node} endMark - This is the ending marker node.\n * @param  {Node} startNode - This is the start node.\n */\nexport function clear(parent, current, endMark, startNode) {\n  if (endMark) {\n    // `current` can't be `0`, it's coerced to a string in insert.\n    if (current) {\n      if (!startNode) {\n        startNode = endMark.previousSibling || parent.lastChild;\n        // Support fragments\n        const key = startNode[GROUPING];\n        if (key) {\n          startNode = startNode.previousSibling;\n          while (startNode && startNode[GROUPING] !== key) {\n            startNode = startNode.previousSibling;\n          }\n        }\n      }\n      let tmp;\n      while (startNode && startNode !== endMark) {\n        tmp = startNode.nextSibling;\n        // Is needed in case the child was pulled out the parent before clearing.\n        if (parent === startNode.parentNode) {\n          parent.removeChild(startNode);\n          startNode[GROUPING] = 0;\n        }\n        startNode = tmp;\n      }\n    }\n  } else {\n    parent.textContent = '';\n  }\n}\n","import { scopeStyles } from \"./scopeStyles\";\nimport { api, html as sinuousHtml, svg as sinuousSvg } from \"sinuous\";\nimport { root, cleanup } from \"sinuous/observable\";\nimport { isFunction } from \"./utils\";\n\nlet scopeName;\nlet scopeNameCounts = {};\nlet styleElementIds = new Set([]);\n\nconst pipe = (f, g) => (...args) => g(...f(...args));\n\nlet originalH = api.h;\n// Wrap the native apis\napi.h = pipe(scopeElementClasses, api.h);\napi.hs = pipe(\n  // Assume there will be no style elements nested inside svg\n  injectScopeName,\n  api.hs\n);\n\nlet head = document.querySelector(\"head\");\n\nfunction addStyleElement(styleElement) {\n  head.append(styleElement);\n}\nfunction removeStyleByClassName(className) {\n  for (let element of head.querySelectorAll(\".\" + className)) {\n    if (element.nodeName === \"STYLE\") {\n      /*\n        Remove the style element id from the styleElementIds so that if another\n        corresponding component is added, the style element will again\n        be appended to the dom.\n      */\n      styleElementIds.delete(element.id);\n      // Remove the style element from the dom.\n      element.remove();\n    }\n  }\n}\n\n/* \n    If an appropriate style element, scope all selectors and inject the style element\n    directly onto the body of the page. Otherwise, inject the scopeName. Return the\n    `args` to be passed into `api.h`.\n  */\nfunction scopeElementClasses(...args) {\n  if (args[0] === \"style\" && args[1] && (args[1].local || args[1].global)) {\n    let props = args[1];\n    let local = props.local;\n    let className = props.class;\n    props.class = scopeName + \" \" + (props.class || \"\");\n    let modifiedScopeName =\n      (local ? scopeName + \"-local\" : scopeName + \"-global\") +\n      (className ? \"-\" + className : \"\");\n    if (\n      styleElementIds.has(modifiedScopeName) ||\n      head.querySelector(\"#\" + modifiedScopeName)\n    ) {\n      return [];\n    }\n    styleElementIds.add(modifiedScopeName);\n\n    /* \n      Create a style element and append it to the document head rather than\n      passing it through to be created by api.h in the normal fashion.\n    */\n    props.id = modifiedScopeName;\n    let rest = local ? scopeStyles(args.slice(2), scopeName) : args.slice(2);\n    let styleElement = root(() => originalH(args[0], props, ...rest));\n    addStyleElement(styleElement);\n\n    return [];\n  } else {\n    return injectScopeName(...args);\n  }\n}\n\n/*\n  Wraps the callback in a newScopeName.\n*/\nfunction wrapInScope(newScopeName, callback) {\n  // Keep a reference to the outer scope.\n  let outerScopeName = scopeName;\n  // Create new scope.\n  scopeName = newScopeName;\n  let result = callback();\n  // Reset the scope to the outer scope.\n  scopeName = outerScopeName;\n  return result;\n}\n\n/* \n  Inject the scopeName into every element as an additional className.\n  Ensure that passed children are scoped lexically rather than dynamically.\n  Return the `args` to be passed into `api.h` or `api.hs`.  \n*/\nfunction injectScopeName(...args) {\n  /*\n    If the node is a component wrap its children in the scope\n    of where they apppear in the markup, not the scope of this\n    component. The `$s` annotation on this component contains\n    that `scopeName`.\n\n    This makes the scope lexical rather than dynamic.\n  */\n  if (isFunction(args[0])) {\n    let staticScopeName = args[0].$s;\n    for (let i = 2; i < args.length; i++) {\n      if (isFunction(args[i])) {\n        let temp = args[i];\n        args[i] = () => wrapInScope(staticScopeName, temp);\n      }\n    }\n  }\n\n  let props = args[1] || {};\n  let baseClass = props.class || \"\";\n  /*\n    Set the current value of `scopeName` to a variable so that the changing \n    `scopeName` variable (in the case that the `baseClass` is a function) \n    is not captured by the closure.\n  */\n  let staticScopeName = scopeName || \"\";\n  props.class = isFunction(baseClass)\n    ? () => baseClass() + \" \" + staticScopeName\n    : baseClass + \" \" + staticScopeName;\n  args[1] = props;\n  return args;\n}\n\n/*\n  Wraps Sinuous `html` or `svg`. The wrapped functions handle scoping.\n\n  The usage of that wrapped function is as follows:\n    1. html('new-scope-name')`...` - sets a new scope ('new-scope-name')\n    2. html()`...` - propagates the outer scope (useful in the case of conditionals)\n    3. html`...` - blocks the outer scope\n*/\nfunction wrapApiFunction(fn) {\n  return (...args) => {\n    if (Array.isArray(args[0])) {\n      // html`...` - block outer scope\n      return wrapInScope(\"\", () => fn(...args));\n    } else {\n      // html(scopeName)`...` - set a new scope\n      // html()`...` - propagate outer scope\n      return (...templateArgs) => {\n        return wrapInScope(args.length ? args[0] : scopeName, () => {\n          /*\n            Annotate each child function with `$s` so that any\n            child components that render passed children can give\n            their children this `scopeName` rather than the `scopeName`\n            of that component.\n\n            This makes the scope lexical rather than dynamic.\n          */\n          for (let item of templateArgs) {\n            if (isFunction(item)) {\n              item.$s = scopeName;\n            }\n          }\n\n          // Track how many elements using this particular scopeName\n          // are present on the dom.\n          let staticScopeName = scopeName;\n          if (!scopeNameCounts[staticScopeName]) {\n            scopeNameCounts[staticScopeName] = 1;\n          } else scopeNameCounts[staticScopeName]++;\n          // Remove the corresponding style elements when the\n          // number of elements using this scopeName goes to 0.\n          cleanup(() => {\n            if (--scopeNameCounts[staticScopeName] < 1) {\n              delete scopeNameCounts[staticScopeName];\n              removeStyleByClassName(staticScopeName);\n            }\n          });\n          return fn(...templateArgs);\n        });\n      };\n    }\n  };\n}\n\n// To be used in place of Sinuous `html` and `svg`\nconst html = wrapApiFunction(sinuousHtml);\nconst svg = wrapApiFunction(sinuousSvg);\n\nexport { html, svg };\n","import { html } from \"sinuous-style\";\n\nexport const card = ({ title }, ...children) => {\n  return html(\"card\")`\n    <section>\n      <h2>${title}</h2>\n      ${children}\n    </section>\n\n    <style local>\n      section {\n        background: #f3f3f3;\n        padding: 20px;\n        border-radius: 10px;\n        margin-top: 20px;\n        margin-bottom: 20px;\n        text-align: center;\n      }\n\n      h2 {\n        margin-top: 0px;\n        text-align: center;\n      }\n    </style>\n  `;\n};\n","import { html } from \"sinuous-style\";\nimport { o } from \"sinuous\";\nimport { card } from \"../components/card\";\n\nexport const counter = () => {\n  let count = o(0);\n\n  return html(\"counter\")`\n    <${card} title=\"Counter\">\n      ${count}\n      <button onclick=${() => count(count() + 1)}>+</button>\n    <//>\n\n    <style local>\n      button {\n        margin-left: 15px;\n      }\n    </style>\n  `;\n};\n","import { html } from \"sinuous-style\";\nimport { o } from \"sinuous\";\nimport { card } from \"../components/card\";\n\nfunction trunc(n) {\n  return Number(n.toFixed(2));\n}\n\nfunction remove0(n) {\n  if (/^0\\d+$/.test(n)) return n.slice(1);\n  if (/^-0\\d+$/.test(n)) return \"-\" + n.slice(2);\n  return n;\n}\n\nfunction getC(f) {\n  return trunc((5 / 9) * (f - 32)) || -17.78; // 0 F\n}\nfunction getF(c) {\n  return trunc((9 / 5) * c + 32) || 32; // 0 C\n}\nlet r = /^-?\\d*.?\\d*$/;\nfunction isValid(temp) {\n  if (/^-?\\d*$/.test(temp)) return true;\n  if (/^-?\\d+[.]?\\d*$/.test(temp)) return true;\n  return false;\n}\n\nexport const temperatureConverter = () => {\n  let c = o(0);\n  let f = o(32);\n\n  const updateFromC = (e) => update(e, c, f, getF);\n  const updateFromF = (e) => update(e, f, c, getC);\n\n  const update = (e, from, to, get) => {\n    let value = e.target.value; //|| \"0\";\n    if (!isValid(value)) return;\n    value = remove0(value);\n    from(value);\n    to(get(value));\n  };\n\n  return html(\"temperature-converter\")`\n    <${card} title=\"Temperature Converter\">\n      <span>\n        <input value=${c} oninput=${updateFromC} />\n        Celsius\n      </span>\n      =\n      <span>\n        <input value=${f} oninput=${updateFromF} />\n        Fahrenheit\n      </span>\n    <//>\n\n    <style local>\n      span {\n        display: inline-block;\n        padding-left: 10px;\n        padding-right: 10px;\n      }\n    </style>\n  `;\n};\n","import { html } from \"sinuous-style\";\nimport { S, o } from \"sinuous/observable\";\nimport { card } from \"../components/card\";\n\nlet flightMap = {\n  1: \"one-way flight\",\n  2: \"return flight\",\n};\n\nfunction tryAsDate(dateString) {\n  let dateArr = dateString.split(\".\").reverse();\n  if (dateArr[1].length !== 2 || dateArr[2].length !== 2) {\n    return false;\n  }\n  let date = new Date(dateArr.join(\"-\"));\n  return date.valueOf() || false;\n}\n\nfunction formatAsString(date) {\n  return date.toISOString().slice(0, 10).split(\"-\").reverse().join(\".\");\n}\n\nexport const flightBooker = () => {\n  let flightType = o(1);\n  let startDate = o(formatAsString(new Date()));\n  let returnDate = o(formatAsString(new Date()));\n\n  let error1 = S(() => !tryAsDate(startDate()));\n  let error2 = S(() => !tryAsDate(returnDate()));\n  let error3 = S(() => tryAsDate(returnDate()) < tryAsDate(startDate()));\n\n  let isBookButtonDisabled = S(() => error1() || error2() || error3());\n  let isOneWay = S(() => flightType() === 1);\n  let startDateClass = S(() => (error1() ? \"error\" : \"\"));\n  let returnDateClass = S(() => (error2() ? \"error\" : \"\"));\n\n  function book() {\n    let timeStrings = {\n      1: \" for \" + startDate(),\n      2: \" from \" + startDate() + \" to \" + returnDate(),\n    };\n    alert(\n      \"You have booked a \" + flightMap[flightType()] + timeStrings[flightType()]\n    );\n  }\n\n  return html(\"flight-booker\")`\n    <${card} title=\"Flight Booker\">\n      <div>\n        <select value=${flightType} onchange=${(e) =>\n    flightType(e.target.value)}>\n          <option value=\"{1}\">${flightMap[1]}</option>\n          <option value=\"{2}\">${flightMap[2]}</option>\n        </select>\n        <input\n          value=${startDate}\n          class=${startDateClass}\n          oninput=${(e) => startDate(e.target.value)}\n        />\n        <input\n          value=${returnDate}\n          class=${returnDateClass}\n          oninput=${(e) => returnDate(e.target.value)}\n          disabled=${isOneWay}\n        />\n        <button onclick=${book} disabled=${isBookButtonDisabled}>\n          Book\n        </button>\n      </div>\n    <//>\n\n    <style local>\n      div {\n        max-width: 400px;\n        margin: auto;\n      }\n\n      div > * {\n        width: 100%;\n        display: block;\n      }\n\n      :disabled {\n        background: #eee;\n      }\n\n      .error {\n        background: #dd9999;\n      }\n    </style>\n  `;\n};\n","import { html } from \"sinuous-style\";\nimport { S, o } from \"sinuous/observable\";\nimport { card } from \"../components/card\";\n\nexport const timer = () => {\n  const MAX = 30000;\n\n  let duration = o(5000);\n  let durationFormatted = S(() => (duration() / 1000).toFixed(1));\n  let start = o();\n  let time = o();\n  let progress = S(() => (time() - start()) / duration());\n  let interval;\n\n  function createInterval() {\n    return setInterval(() => {\n      time(new Date().valueOf());\n    }, 10);\n  }\n  function startTimer() {\n    clearInterval(interval);\n    start(new Date().valueOf());\n    time(start());\n    interval = createInterval();\n  }\n\n  startTimer();\n\n  return html(\"timer\")`\n    <${card} title=\"Timer\">\n      <div class=\"wrapper\">\n        Elapsed Time:\n        <progress value=${progress} />\n        <div class=\"duration\">${durationFormatted}s</div>\n        Duration:\n        <input\n          type=\"range\"\n          min=${0}\n          max=${MAX}\n          value=${duration}\n          oninput=${(e) => duration(e.target.value)}\n        />\n        <button onclick=${startTimer}>Reset Timer</button>\n      </div>\n    <//>\n\n    <style local>\n      .wrapper {\n        max-width: 400px;\n        text-align: left;\n        margin: auto;\n        display: grid;\n        grid-template-columns: auto auto;\n        grid-template-rows: auto;\n        grid-gap: 10px 10px;\n        grid-auto-flow: row;\n      }\n\n      input {\n        padding: 0;\n        justify-self: stretch;\n        align-self: center;\n      }\n\n      button {\n        grid-column: 1/3;\n        grid-row: auto;\n      }\n\n      .duration {\n        grid-column: 2;\n      }\n    </style>\n  `;\n};\n","import { html } from \"sinuous-style\";\nimport { S, subscribe, o } from \"sinuous/observable\";\nimport { card } from \"../components/card\";\n\nexport const crud = () => {\n  let prefix = o(\"\");\n  let entries = o([\n    o([\"Paul\", \"Atreides\"]),\n    o([\"Gurney\", \"Halleck\"]),\n    o([\"Duncan\", \"Idaho\"]),\n  ]);\n  let filteredEntries = S(() =>\n    // get filtered entries in which entry[1] startsWith prefix\n    // get array of [entry[0], entry[1], index]\n    entries()\n      .map((entry, i) => [entry()[0], entry()[1], i])\n      .filter((entry) =>\n        entry[1].toLowerCase().startsWith(prefix().toLowerCase())\n      )\n  );\n  let name = o(\"\");\n  let surname = o(\"\");\n  let selected = o(-1);\n  subscribe(() => {\n    prefix();\n    selected(-1);\n  });\n\n  function createHandler() {\n    entries(entries().concat(o([name(), surname()])));\n  }\n  function updateHandler() {\n    // if selected > -1 then update entries[selected]\n    selected() > -1 && entries()[selected()]([name(), surname()]);\n  }\n  function deleteHandler() {\n    // if selected > -1 then delete entries[selected]\n    selected() > -1 && entries(entries().filter((entry, i) => i != selected()));\n  }\n\n  return html(\"crud\")`\n    <${card} title=\"CRUD\">\n      <div class=\"wrapper\">\n        Filter prefix:\n        <input value=${prefix} oninput=${(e) => prefix(e.target.value)} />\n        <select\n          value=${selected}\n          oninput=${(e) => selected(e.target.value)}\n          size=\"4\"\n        >\n          ${() =>\n            filteredEntries().map(\n              (entry) => html`\n                <option value=${entry[2]}>${entry[1]}, ${entry[0]}</option>\n              `\n            )}\n        </select>\n        <div>\n          Name:\n          <input value=${name} oninput=${(e) => name(e.target.value)} />\n          Surname:\n          <input value=${surname} oninput=${(e) => surname(e.target.value)} />\n        </div>\n        <div class=\"buttons\">\n          <button onclick=${createHandler}>Create</button>\n          <button onclick=${updateHandler}>Update</button>\n          <button onclick=${deleteHandler}>Delete</button>\n        </div>\n      </div>\n    <//>\n\n    <style local>   \n      .wrapper {\n        max-width: 400px;\n        text-align: left;\n        margin: auto;\n        display: grid;\n        grid-template-columns: 150px auto;\n        grid-template-rows: auto;\n        grid-gap: 10px 10px;\n        grid-auto-flow: row;\n      }\n\n      .buttons {\n        grid-column: 1/3;\n        display: flex;\n        justify-content: space-evenly;\n      }\n\n      button {\n        flex: 1 1 0%;\n      }\n\n      input {\n        width: 100%;\n      }\n    </style>\n  `;\n};\n","import {html, svg} from 'sinuous-style'\nimport { subscribe, sample, o } from \"sinuous/observable\";\nimport { card } from \"../components/card\";\n\nexport const circleDrawer = () => {\n  const BASE_RADIUS = 30;\n\n  let step = o(0);\n  let snapshots = o([o([])]);\n  let radius = o(BASE_RADIUS);\n  let resizing = o(false);\n  let present = o([]);\n  subscribe(() => present(snapshots()[step()]()));\n  subscribe(() => {\n    if (resizing()) {\n      let resizingIndex = sample(present).findIndex(\n        circle => circle.x === resizing().x && circle.y === resizing().y\n      );\n      let newPresent = sample(present).slice();\n      newPresent[resizingIndex] = {\n        ...sample(present)[resizingIndex],\n        r: Number(radius())\n      };\n      present(newPresent);\n    }\n  });\n\n  function handleRightClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    let circle = e.target;\n    resizing({\n      x: circle.cx.baseVal.value,\n      y: circle.cy.baseVal.value,\n      r: circle.r.baseVal.value\n    });\n    radius(resizing().r);\n  }\n\n  function addCircle(e) {\n    let x = e.layerX;\n    let y = e.layerY;\n    let newSnapshot = present().slice();\n    newSnapshot.push({ x, y, r: BASE_RADIUS });\n    addSnapshot(o(newSnapshot));\n  }\n\n  function addSnapshot(newSnapshot) {\n    let newSnapshots = snapshots().slice(0, step() + 1);\n    newSnapshots.push(newSnapshot);\n    snapshots(newSnapshots);\n    step(step() + 1);\n  }\n\n  function undo() {\n    step(Math.max(step() - 1, 0));\n  }\n\n  function redo() {\n    step(Math.min(step() + 1, snapshots().length - 1));\n  }\n\n  function endResize() {\n    if (radius() !== resizing().r) {\n      resizing(false);\n      radius(BASE_RADIUS);\n      addSnapshot(o(present().slice()));\n    }\n    resizing(false);\n  }\n\n  const overlay = () => html('circle-drawer')`\n    <div class=\"overlay\" onclick=${endResize}></div>\n    <div class=\"resizer\">\n      <p>\n        Adjust radius of circle at (${() => resizing().x},\n        ${() => resizing().y})\n      </p>\n      <p>${radius}</p>\n      <input\n        type=\"range\"\n        min=${0}\n        max=${100}\n        value=${radius}\n        oninput=${e => radius(e.target.value)}\n      />\n    </div>\n  `;\n\n  const circleSVG = ({ circle, handleRightClick }) => {\n    return svg()`\n      <circle\n        cx=${circle.x}\n        cy=${circle.y}\n        r=${circle.r}\n        fill=\"white\"\n        stroke=\"black\"\n        onclick=${e => {\n          e.preventDefault();\n          e.stopPropagation();\n        }}\n        oncontextmenu=${handleRightClick}\n      />\n    `;\n  };\n\n  const view = html('circle-drawer')`\n    <${card} title=\"Circle Drawer\">\n      <div class=\"wrapper\">\n        <div class=\"buttons\">\n          <button disabled=${() => !step()} onclick=${undo}>Undo</button>\n          <button\n            disabled=${() => step() === snapshots().length - 1}\n            onclick=${redo}\n          >\n            Redo\n          </button>\n        </div>\n        <div class=\"canvas\">\n          ${() => svg()`\n            <svg onclick=${addCircle}>\n              ${() =>\n                present().map(\n                  (cir) =>\n                    html()`\n                      <${circleSVG}\n                        circle=${cir}\n                        handleRightClick=${handleRightClick}\n                      />\n                    `\n                )}\n            </svg>\n          `}\n        </div>\n        ${() => resizing() && overlay}\n      </div>\n    <//>\n\n    <style local>\n      .wrapper {\n        max-width: 400px;\n        text-align: left;\n        margin: auto;\n        position: relative;\n      }\n\n      .canvas {\n        width: 100%;\n        height: 400px;\n        position: relative;\n      }\n\n      .overlay {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: transparent;\n      }\n\n      .resizer {\n        background: rgba(200, 200, 200, 0.5);\n        position: absolute;\n        top: 50%;\n        left: 20px;\n        right: 20px;\n        transform: translateY(-50%);\n        text-align: center;\n      }\n\n      .buttons {\n        margin: auto;\n        width: max-content;\n      }\n\n      svg {\n        background: white;\n        width: 100%;\n        height: 100%;\n      }\n\n      circle:hover {\n        fill: #eee;\n      }\n    </style>\n  `;\n\n  return view;\n};\n","export let sampleData = {\n  A0: 'Data',\n  A1: '20',\n  A2: '15',\n  A3: 'text',\n  B1: '79',\n  B2: '3.9',\n  A5: 'Formula',\n  B5: 'Output',\n  A6: '\"=sum(D1:D5)\"',\n  B6: '=sum(D1:D5)',\n  A7: '\"=sub(A1:B2)\"',\n  B7: '=sub(A1:B2)',\n  A8: '\"=mul(D1:D5)\"',\n  B8: '=mul(D1:D5)',\n  A9: '\"=div(A1:B2)\"',\n  B9: '=div(A1:B2)',\n  A10: '\"=mod(A1:B2)\"',\n  B10: '=mod(A1:B2)',\n  C0: 'Formula',\n  D0: 'Output',\n  C1: '\"=sum(A1,A2)\"',\n  D1: '=sum(A1,A2)',\n  C2: '\"=sub(D1,A1)\"',\n  D2: '=sub(D1,A1)',\n  C3: '\"=mul(D2,A2)\"',\n  D3: '=mul(D2,A2)',\n  C4: '\"=div(D3,A1)\"',\n  D4: '=div(D3,A1)',\n  C5: '\"=mod(A1,A2)\"',\n  D5: '=mod(A1,A2)',\n  C7: '\"=sum(A1,A3)\"',\n  D7: '=sum(A1,A3)',\n  C8: '\"=sum(A1,A4)\"',\n  D8: '=sum(A1,A4)',\n  C9: '\"=sumA1,A4)\"',\n  D9: '=sumA1,A4)',\n  C10: '\"=sm(A1,A4)\"',\n  D10: '=sm(A1,A4)',\n  C11: '\"=sum(A1,307)\"',\n  D11: '=sum(A1,307)',\n  C12: '\"=sum(159,4)\"',\n  D12: '=sum(159,4)',\n  C14: '\"=A1\"',\n  D14: '=A1',\n  C15: '\"=A3\"',\n  D15: '=A3'\n}\n","import {subscribe} from 'sinuous/observable'\n\nexport class Parser {\n  constructor(store, columns, rows) {\n    this.cells = {}\n    this.store = store\n    this.columns = columns\n    this.rows = rows\n    this.operations = {\n      sum: (a, b) => a + b,\n      sub: (a, b) => a - b,\n      mul: (a, b) => a * b,\n      div: (a, b) => a / b,\n      mod: (a, b) => a % b,\n      exp: (a, b) => a ** b\n    }\n\n    subscribe(() => this.cells = this.store())\n  }\n\n  cartesianProduct(letters, numbers) {\n    var result = []\n    letters.forEach(letter => {\n      numbers.forEach(number => {\n        result.push(letter + number)\n      })\n    })\n    return result\n  }\n\n  findArrRange(arr, start, end) {\n    let startI = arr.indexOf(start)\n    let endI = arr.indexOf(end)\n    if (startI == -1 || endI == -1 || startI > endI) return []\n    return arr.slice(startI, endI + 1)\n  }\n\n  getRange(rangeStart, rangeEnd) {\n    rangeStart = this.splitOperand(rangeStart)\n    rangeEnd = this.splitOperand(rangeEnd)\n    let letters = this.findArrRange(this.columns, rangeStart[0], rangeEnd[0])\n    let numbers = this.findArrRange(this.rows, rangeStart[1], rangeEnd[1])\n    return this.cartesianProduct(letters, numbers)\n  }\n\n  splitOperand(operand) {\n    return [operand.match(/[a-zA-Z]+/)[0], Number(operand.match(/\\d+/)[0])]\n  }\n\n  rangeOperation(op, rangeStart, rangeEnd) {\n    if (!(this.isWellFormed(rangeStart) && this.isWellFormed(rangeEnd)))\n      return this.originalString\n\n    let range = this.getRange(rangeStart, rangeEnd)\n\n    return range\n      .map(address => Number(this.parse(this.cells[address]())))\n      .reduce(this.operations[op])\n  }\n\n  singleOperation(op, operand1, operand2) {\n    let first = this.parseOperand(operand1)\n    let second = this.parseOperand(operand2)\n\n    if (first === null || second === null) return this.originalString\n\n    return this.operations[op](first, second).toString()\n  }\n\n  isWellFormed(operand) {\n    return /[a-zA-Z]+\\d+/.test(operand)\n  }\n\n  parseOperand(operand) {\n    if (!isNaN(Number(operand))) return Number(operand)\n    if (operand in this.cells) return Number(this.parse(this.cells[operand]()))\n    if (this.isWellFormed(operand)) return 0\n\n    return null\n  }\n\n  parseOperation(op, formula) {\n    if (!(formula.startsWith('(') && formula.endsWith(')')))\n      return this.originalString\n\n    formula = formula.slice(1, formula.length - 1)\n\n    let operationType\n    let formulaArr\n    if (formula.includes(',')) {\n      operationType = 'single'\n      formulaArr = formula.split(',')\n    } else if (formula.includes(':')) {\n      operationType = 'range'\n      formulaArr = formula.split(':')\n    }\n\n    if (formulaArr.length !== 2) return this.originalString\n\n    if (operationType === 'single')\n      return this.singleOperation(op, formulaArr[0], formulaArr[1])\n\n    if (operationType === 'range')\n      return this.rangeOperation(op, formulaArr[0], formulaArr[1])\n\n    return this.originalString\n  }\n\n  parse(str) {\n    this.originalString = str\n    if (typeof str !== 'string') return ''\n    if (!str.startsWith('=')) return str\n\n    let formula = str.slice(1)\n    if (formula.slice(0, 3).toLowerCase() in this.operations) {\n      return this.parseOperation(\n        formula.slice(0, 3).toLowerCase(),\n        formula.slice(3).toUpperCase()\n      )\n    } else {\n      return this.cells[formula] || str\n    }\n  }\n}\n","import { html } from \"sinuous-style\";\nimport { sample, o } from \"sinuous/observable\";\nimport { card } from \"../../components/card\";\nimport { sampleData } from \"./sampleData.js\";\nimport { Parser } from \"./parse.js\";\n\nconst LETTERS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\nfunction range(n) {\n  return [...Array(n).keys()];\n}\nfunction letterRange(n) {\n  return range(n).map(getNumberAsLetters);\n}\nfunction getBase26(n) {\n  let result = [];\n  while (n > 25) {\n    let remainder = n % 26;\n    result.push(remainder);\n    n = Math.floor(n / 26) - 1;\n  }\n  result.push(n);\n  return result.reverse();\n}\nfunction getNumberAsLetters(n) {\n  let arr = getBase26(n);\n  return arr.map((num) => LETTERS[num]).join(\"\");\n}\nfunction findAdjacent(arr, value, direction) {\n  let index = arr.indexOf(value);\n  if (index === -1) return null;\n  if (direction === \"before\")\n    return arr[index - 1] === undefined ? null : arr[index - 1];\n  if (direction === \"after\") return arr[index + 1] || null;\n  return null;\n}\n\nexport const cells = (props) => {\n  let shape = (props && props.shape) || [100, 100];\n\n  Object.keys(sampleData).forEach((key) => {\n    // Make each entry an observable\n    sampleData[key] = o(sampleData[key]);\n  });\n  const data = o(sampleData);\n\n  const rows = range(shape[1]);\n  const columns = letterRange(shape[0]);\n  const p = new Parser(data, columns, rows);\n\n  let focused = o(undefined);\n  let tBody; // Used as a ref\n\n  function createNewCell(key) {\n    let dataRef = sample(data);\n    if (!dataRef[key]) {\n      dataRef[key] = o(\"\");\n      data(dataRef);\n    }\n  }\n\n  function handleFocus(e, key) {\n    createNewCell(key);\n    focused(key);\n    setTimeout(() => {\n      // The timeout allows the selection to occur after\n      // the parsing switch inside a cell\n      e.target.setSelectionRange(0, 9999);\n    }, 10);\n  }\n\n  function handleBlur() {\n    focused(undefined);\n  }\n\n  function handleInput(e, key) {\n    sample(data)[key](e.target.value);\n  }\n\n  function handleKeydown(e, column, row) {\n    // Navigate across the spreadsheet with arrow keys (and alt/option key)\n    let selector;\n    if (e.key === \"ArrowUp\") {\n      let newRow = findAdjacent(rows, row, \"before\");\n      selector = newRow !== null ? column + newRow : null;\n    }\n    if (e.key === \"ArrowDown\" || e.key === \"Enter\") {\n      let newRow = findAdjacent(rows, row, \"after\");\n      selector = newRow !== null ? column + newRow : null;\n    }\n    if (e.key === \"ArrowLeft\" && e.altKey) {\n      let newColumn = findAdjacent(columns, column, \"before\");\n      selector = newColumn !== null ? newColumn + row : null;\n    }\n    if (e.key === \"ArrowRight\" && e.altKey) {\n      let newColumn = findAdjacent(columns, column, \"after\");\n      selector = newColumn !== null ? newColumn + row : null;\n    }\n\n    if (selector) {\n      e.preventDefault();\n      let input = tBody.querySelector(\"#input-\" + selector);\n      input.focus();\n    }\n  }\n\n  function clear() {\n    data({});\n  }\n\n  const view = html('cells')`\n    <${card} title=\"Cells\">\n      <div class=\"wrapper\">\n        <table>\n          <thead>\n            <tr>\n              <td class=\"row-key\"></td>\n              ${() =>\n                columns.map(\n                  (column) => html()` <td class=\"column-key\">${column}</td> `\n                )}\n            </tr>\n          </thead>\n          <tbody>\n            ${() =>\n              rows.map(\n                (i) => html()`\n                  <tr id=${\"row-\" + i}>\n                    <td class=\"row-key\">${i}</td>\n                    ${() =>\n                      columns.map(\n                        (j) => html()`\n                          <td id=${j + i}>\n                            <input\n                              id=${\"input-\" + j + i}\n                              value=${() => {\n                                return j + i in data()\n                                  ? focused() === j + i\n                                    ? data()[j + i]()\n                                    : p.parse(data()[j + i]())\n                                  : \"\";\n                              }}\n                              onfocus=${(e) => handleFocus(e, j + i)}\n                              onblur=${handleBlur}\n                              onkeydown=${(e) => handleKeydown(e, j, i)}\n                              oninput=${(e) => handleInput(e, j + i)}\n                            />\n                          </td>\n                        `\n                      )}\n                  </tr>\n                `\n              )}\n          </tbody>\n        </table>\n      </div>\n      <button onclick=${clear}>Clear</button>\n    <//>\n\n    <style local>\n      .wrapper {\n        margin: auto;\n        overflow: scroll;\n        max-width: 600px;\n        max-height: 600px;\n        border: solid 1px #ddd;\n      }\n\n      table {\n        table-layout: fixed;\n        border-collapse: collapse;\n        border: solid 1px #ddd;\n        background: white;\n      }\n\n      td {\n        height: 30px;\n        border: solid 1px #ddd;\n        overflow: hidden;\n      }\n\n      input {\n        width: 100%;\n        height: 100%;\n        margin: 0;\n        padding: 0;\n        text-align: right;\n        border: none;\n        outline: none;\n      }\n\n      input:focus {\n        text-align: left;\n      }\n\n      .row-key {\n        width: min-content;\n        padding-left: 15px;\n        padding-right: 15px;\n      }\n\n      .column-key {\n        min-width: 120px;\n      }\n    </style>\n  `;\n\n  tBody = view.querySelector(\"tbody\"); // Assign ref to domNode\n\n  return view;\n};\n","import { html } from \"sinuous-style\";\n\nimport { counter } from \"./tasks/counter\";\nimport { temperatureConverter } from \"./tasks/temperatureConverter\";\nimport { flightBooker } from \"./tasks/flightBooker\";\nimport { timer } from \"./tasks/timer\";\nimport { crud } from \"./tasks/crud\";\nimport { circleDrawer } from \"./tasks/circleDrawer\";\nimport { cells } from \"./tasks/cells/cells\";\n\nexport const app = () => {\n  return html(\"app\")`\n    <main>\n      <a href=\"../../index.html\">Home</a>\n\n      <${counter} />\n      <${temperatureConverter} />\n      <${flightBooker} />\n      <${timer} />\n      <${crud} />\n      <${circleDrawer} />\n      <${cells} />\n    </main>\n\n    <style local>\n      main {\n        max-width: 800px;\n        margin: auto;\n      }\n    </style>\n  `;\n};\n","import { app } from \"./app\";\n\ndocument.querySelector(\"#root\").append(app());\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}