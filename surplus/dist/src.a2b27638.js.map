{"version":3,"sources":["node_modules/surplus/es/insert.js","node_modules/surplus/es/content.js","node_modules/surplus/es/dom.js","node_modules/surplus/es/fieldData.js","node_modules/surplus/es/spread.js","node_modules/s-js/dist/es/S.js","node_modules/surplus/es/index.js","src/components/Card.js","src/tasks/Counter.js","src/App.js","src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["DOCUMENT_FRAGMENT_NODE","TEXT_NODE","insert","range","value","parent","start","parentNode","test","good","t","toString","nodeType","data","document","createTextNode","replaceChild","end","Node","Array","isArray","insertArray","Function","undefined","firstChild","lastChild","textContent","appendChild","previousSibling","removeChild","array","i","len","length","nextSibling","insertBefore","content","current","clear","normalizeIncomingArray","appendNodes","reconcileArrays","Error","NOMATCH","NOINSERT","RECONCILE_ARRAY_BATCH","RECONCILE_ARRAY_BITS","RECONCILE_ARRAY_INC","RECONCILE_ARRAY_MASK","ns","us","ulen","nmin","nmax","umin","umax","n","u","nx","ux","ul","j","k","loop","fixes","equable","insertOrAppend","ntext","__surplus_order","Object","defineProperty","writable","Text","push","src","utext","preserved","lcs","longestPositiveIncreasingSubsequence","utexti","lcsj","ntextk","node","marker","normalized","item","seq","is","l","pre","findGreatestIndexLEQ","lo","hi","mid","Math","floor","svgNS","createElement","tag","className","el","createSvgElement","createElementNS","setAttribute","createComment","text","comment","name","removeAttribute","setAttributeNS","namespace","removeAttributeNS","htmlFieldCache","style","ref","fn","class","for","onDoubleClick","spellCheck","allowFullScreen","autoCapitalize","autoFocus","autoPlay","role","svgFieldCache","htmlFor","tabIndex","allowReorder","attributeName","attributeType","autoReverse","baseFrequency","calcMode","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan","attributeOnlyRx","deepAttrRx","isAttrOnlyField","field","propOnlyRx","isPropOnlyField","propPartRx","getAttrName","replace","m","toLowerCase","jsxEventPropRx","attrPartRx","getPropName","prop","toUpperCase","deepPropRx","buildPropData","exec","substr","attrNamespaces","xlink","xml","attrNamespaceRx","RegExp","keys","join","buildAttrData","attr","getFieldData","svg","cache","cached","assign","a","b","props","spread","obj","setField","_a","flags","type","S","ComputationNode","computation","root","owner","Owner","UNOWNED","result","disposer","_dispose","RunningClock","RootClock","disposes","add","dispose","topLevelRoot","on","ev","seed","onchanges","callAll","running","RunningNode","ss","all","effect","DataNode","arguments","next","eq","age","update","same","time","freeze","changes","reset","event","sample","cleanup","cleanups","console","warn","makeDataNode","makeComputationNode","isFrozen","isListening","Clock","Queue","updates","RootClockProxy","pending","NOTPENDING","log","prototype","logDataRead","clock","state","CURRENT","source1","source1slot","sources","sourceslots","owned","toplevelComputation","RUNNING","updateNode","logComputationRead","Log","node1","node1slot","nodes","nodeslots","items","count","run","STALE","logRead","from","to","fromslot","toslot","applyDataChange","markComputationsStale","markNodeStale","markOwnedNodesForDisposal","child","final","cleanupSource","pop","source","slot","last","lastslot","querySelector","append","bundleURL","getBundleURLCached","getBundleURL","err","matches","stack","match","getBaseURL","url","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","module","OVERLAY_ID","OldModule","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","parse","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","message","overlay","createErrorOverlay","body","getElementById","stackTrace","innerText","innerHTML","getParents","modules","parents","d","dep","concat","deps","some","cb"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["import { S } from './index';\nvar DOCUMENT_FRAGMENT_NODE = 11, TEXT_NODE = 3;\nexport function insert(range, value) {\n    var parent = range.start.parentNode, test = range.start, good = null, t = typeof value;\n    //if (parent === null) {\n    //    throw new Error(\"Surplus.insert() can only be used on a node that has a parent node. \\n\"\n    //        + \"Node ``\" + range.start + \"'' is currently unattached to a parent.\");\n    //}\n    //if (range.end.parentNode !== parent) {\n    //    throw new Error(\"Surplus.insert() requires that the inserted nodes remain sibilings \\n\"\n    //        + \"of the original node.  The DOM has been modified such that this is \\n\"\n    //        + \"no longer the case.\");\n    //}\n    if (t === 'string' || t === 'number') {\n        value = value.toString();\n        if (test.nodeType === TEXT_NODE) {\n            test.data = value;\n            good = test;\n        }\n        else {\n            value = document.createTextNode(value);\n            parent.replaceChild(value, test);\n            if (range.end === test)\n                range.end = value;\n            range.start = good = value;\n        }\n    }\n    else if (value instanceof Node) {\n        if (test !== value) {\n            parent.replaceChild(value, test);\n            if (range.end === test)\n                range.end = value;\n            range.start = value;\n        }\n        good = value;\n    }\n    else if (Array.isArray(value)) {\n        insertArray(value);\n    }\n    else if (value instanceof Function) {\n        S(function () {\n            insert(range, value());\n        });\n        good = range.end;\n    }\n    else if (value !== null && value !== undefined && value !== true && value !== false) {\n        value = value.toString();\n        if (test.nodeType === TEXT_NODE) {\n            test.data = value;\n            good = test;\n        }\n        else {\n            value = document.createTextNode(value);\n            parent.replaceChild(value, test);\n            if (range.end === test)\n                range.end = value;\n            range.start = good = value;\n        }\n    }\n    if (good === null) {\n        if (range.start === parent.firstChild && range.end === parent.lastChild && range.start !== range.end) {\n            // fast delete entire contents\n            parent.textContent = \"\";\n            value = document.createTextNode(\"\");\n            parent.appendChild(value);\n            good = range.start = range.end = value;\n        }\n        else if (test.nodeType === TEXT_NODE) {\n            test.data = \"\";\n            good = test;\n        }\n        else {\n            value = document.createTextNode(\"\");\n            parent.replaceChild(value, test);\n            if (range.end === test)\n                range.end = value;\n            range.start = good = value;\n        }\n    }\n    // remove anything left after the good cursor from the insert range\n    while (good !== range.end) {\n        test = range.end;\n        range.end = test.previousSibling;\n        parent.removeChild(test);\n    }\n    return range;\n    function insertArray(array) {\n        for (var i = 0, len = array.length; i < len; i++) {\n            var value = array[i];\n            if (good === range.end) {\n                if (value instanceof Node) {\n                    good = range.end = (good.nextSibling ? parent.insertBefore(value, good.nextSibling) : parent.appendChild(value));\n                }\n                else if (value instanceof Array) {\n                    insertArray(value);\n                }\n                else if (value !== null && value !== undefined && value !== false && value !== true) {\n                    value = document.createTextNode(value.toString());\n                    good = range.end = (good.nextSibling ? parent.insertBefore(value, good.nextSibling) : parent.appendChild(value));\n                }\n            }\n            else {\n                if (value instanceof Node) {\n                    if (test !== value) {\n                        if (good === null) {\n                            if (range.end === value)\n                                range.end = value.previousSibling;\n                            parent.replaceChild(value, test);\n                            range.start = value;\n                            if (range.end === test)\n                                range.end = value;\n                            test = value.nextSibling;\n                        }\n                        else {\n                            if (test.nextSibling === value && test !== value.nextSibling && test !== range.end) {\n                                parent.removeChild(test);\n                                test = value.nextSibling;\n                            }\n                            else {\n                                if (range.end === value)\n                                    range.end = value.previousSibling;\n                                parent.insertBefore(value, test);\n                            }\n                        }\n                    }\n                    else {\n                        test = test.nextSibling;\n                    }\n                    good = value;\n                }\n                else if (value instanceof Array) {\n                    insertArray(value);\n                }\n                else if (value !== null && value !== undefined && value !== true && value !== false) {\n                    value = value.toString();\n                    if (test.nodeType === TEXT_NODE) {\n                        test.data = value;\n                        if (good === null)\n                            range.start = test;\n                        good = test, test = good.nextSibling;\n                    }\n                    else {\n                        value = document.createTextNode(value);\n                        parent.insertBefore(value, test);\n                        if (good === null)\n                            range.start = value;\n                        good = value;\n                    }\n                }\n            }\n        }\n    }\n}\n","import { S } from './index';\nexport function content(parent, value, current) {\n    var t = typeof value;\n    if (current === value) {\n        // nothing to do\n    }\n    else if (t === 'string') {\n        // if a Text node already exists, it's faster to set its .data than set the parent.textContent\n        if (current !== \"\" && typeof current === 'string') {\n            current = parent.firstChild.data = value;\n        }\n        else {\n            current = parent.textContent = value;\n        }\n    }\n    else if (t === 'number') {\n        value = value.toString();\n        if (current !== \"\" && typeof current === 'string') {\n            current = parent.firstChild.data = value;\n        }\n        else {\n            current = parent.textContent = value;\n        }\n    }\n    else if (value == null || t === 'boolean') { // null, undefined, true or false\n        clear(parent);\n        current = \"\";\n    }\n    else if (t === 'function') {\n        S(function () {\n            current = content(parent, value(), current);\n        });\n    }\n    else if (value instanceof Node) {\n        if (Array.isArray(current)) {\n            if (current.length === 0) {\n                parent.appendChild(value);\n            }\n            else if (current.length === 1) {\n                parent.replaceChild(value, current[0]);\n            }\n            else {\n                clear(parent);\n                parent.appendChild(value);\n            }\n        }\n        else if (current === \"\") {\n            parent.appendChild(value);\n        }\n        else {\n            parent.replaceChild(value, parent.firstChild);\n        }\n        current = value;\n    }\n    else if (Array.isArray(value)) {\n        var array = normalizeIncomingArray([], value);\n        if (array.length === 0) {\n            clear(parent);\n        }\n        else {\n            if (Array.isArray(current)) {\n                if (current.length === 0) {\n                    appendNodes(parent, array, 0, array.length);\n                }\n                else {\n                    reconcileArrays(parent, current, array);\n                }\n            }\n            else if (current === \"\") {\n                appendNodes(parent, array, 0, array.length);\n            }\n            else {\n                reconcileArrays(parent, [parent.firstChild], array);\n            }\n        }\n        current = array;\n    }\n    else {\n        throw new Error(\"content must be Node, stringable, or array of same\");\n    }\n    return current;\n}\nvar NOMATCH = -1, NOINSERT = -2;\nvar RECONCILE_ARRAY_BATCH = 0;\nvar RECONCILE_ARRAY_BITS = 16, RECONCILE_ARRAY_INC = 1 << RECONCILE_ARRAY_BITS, RECONCILE_ARRAY_MASK = RECONCILE_ARRAY_INC - 1;\n// reconcile the content of parent from ns to us\n// see ivi's excellent writeup of diffing arrays in a vdom library: \n// https://github.com/ivijs/ivi/blob/2c81ead934b9128e092cc2a5ef2d3cabc73cb5dd/packages/ivi/src/vdom/implementation.ts#L1187\n// this code isn't identical, since we're diffing real dom nodes to nodes-or-strings, \n// but the core methodology of trimming ends and reversals, matching nodes, then using\n// the longest increasing subsequence to minimize DOM ops is inspired by ivi.\nfunction reconcileArrays(parent, ns, us) {\n    var ulen = us.length, \n    // n = nodes, u = updates\n    // ranges defined by min and max indices\n    nmin = 0, nmax = ns.length - 1, umin = 0, umax = ulen - 1, \n    // start nodes of ranges\n    n = ns[nmin], u = us[umin], \n    // end nodes of ranges\n    nx = ns[nmax], ux = us[umax], \n    // node, if any, just after ux, used for doing .insertBefore() to put nodes at end\n    ul = nx.nextSibling, i, j, k, loop = true;\n    // scan over common prefixes, suffixes, and simple reversals\n    fixes: while (loop) {\n        loop = false;\n        // common prefix, u === n\n        while (equable(u, n, umin, us)) {\n            umin++;\n            nmin++;\n            if (umin > umax || nmin > nmax)\n                break fixes;\n            u = us[umin];\n            n = ns[nmin];\n        }\n        // common suffix, ux === nx\n        while (equable(ux, nx, umax, us)) {\n            ul = nx;\n            umax--;\n            nmax--;\n            if (umin > umax || nmin > nmax)\n                break fixes;\n            ux = us[umax];\n            nx = ns[nmax];\n        }\n        // reversal u === nx, have to swap node forward\n        while (equable(u, nx, umin, us)) {\n            loop = true;\n            parent.insertBefore(nx, n);\n            umin++;\n            nmax--;\n            if (umin > umax || nmin > nmax)\n                break fixes;\n            u = us[umin];\n            nx = ns[nmax];\n        }\n        // reversal ux === n, have to swap node back\n        while (equable(ux, n, umax, us)) {\n            loop = true;\n            if (ul === null)\n                parent.appendChild(n);\n            else\n                parent.insertBefore(n, ul);\n            ul = n;\n            umax--;\n            nmin++;\n            if (umin > umax || nmin > nmax)\n                break fixes;\n            ux = us[umax];\n            n = ns[nmin];\n        }\n    }\n    // if that covered all updates, just need to remove any remaining nodes and we're done\n    if (umin > umax) {\n        // remove any remaining nodes\n        while (nmin <= nmax) {\n            parent.removeChild(ns[nmax]);\n            nmax--;\n        }\n        return;\n    }\n    // if that covered all current nodes, just need to insert any remaining updates and we're done\n    if (nmin > nmax) {\n        // insert any remaining nodes\n        while (umin <= umax) {\n            insertOrAppend(parent, us[umin], ul, umin, us);\n            umin++;\n        }\n        return;\n    }\n    // simple cases don't apply, have to actually match up nodes and figure out minimum DOM ops\n    // loop through nodes and mark them with a special property indicating their order\n    // we'll then go through the updates and look for those properties\n    // in case any of the updates have order properties left over from earlier runs, we \n    // use the low bits of the order prop to record a batch identifier.\n    // I'd much rather use a Map than a special property, but Maps of objects are really\n    // slow currently, like only 100k get/set ops / second\n    // for Text nodes, all that matters is their order, as they're easily, interchangeable\n    // so we record their positions in ntext[]\n    var ntext = [];\n    // update global batch identifer\n    RECONCILE_ARRAY_BATCH = (RECONCILE_ARRAY_BATCH + 1) % RECONCILE_ARRAY_INC;\n    for (i = nmin, j = (nmin << RECONCILE_ARRAY_BITS) + RECONCILE_ARRAY_BATCH; i <= nmax; i++, j += RECONCILE_ARRAY_INC) {\n        n = ns[i];\n        // add or update special order property\n        if (n.__surplus_order === undefined) {\n            Object.defineProperty(n, '__surplus_order', { value: j, writable: true });\n        }\n        else {\n            n.__surplus_order = j;\n        }\n        if (n instanceof Text) {\n            ntext.push(i);\n        }\n    }\n    // now loop through us, looking for the order property, otherwise recording NOMATCH\n    var src = new Array(umax - umin + 1), utext = [], preserved = 0;\n    for (i = umin; i <= umax; i++) {\n        u = us[i];\n        if (typeof u === 'string') {\n            utext.push(i);\n            src[i - umin] = NOMATCH;\n        }\n        else if ((j = u.__surplus_order) !== undefined && (j & RECONCILE_ARRAY_MASK) === RECONCILE_ARRAY_BATCH) {\n            j >>= RECONCILE_ARRAY_BITS;\n            src[i - umin] = j;\n            ns[j] = null;\n            preserved++;\n        }\n        else {\n            src[i - umin] = NOMATCH;\n        }\n    }\n    if (preserved === 0 && nmin === 0 && nmax === ns.length - 1) {\n        // no nodes preserved, use fast clear and append\n        clear(parent);\n        while (umin <= umax) {\n            insertOrAppend(parent, us[umin], null, umin, us);\n            umin++;\n        }\n        return;\n    }\n    // find longest common sequence between ns and us, represented as the indices \n    // of the longest increasing subsequence in src\n    var lcs = longestPositiveIncreasingSubsequence(src);\n    // we know we can preserve their order, so march them as NOINSERT\n    for (i = 0; i < lcs.length; i++) {\n        src[lcs[i]] = NOINSERT;\n    }\n    /*\n              0   1   2   3   4   5   6   7\n    ns    = [ n,  n,  t,  n,  n,  n,  t,  n ]\n                  |          /   /       /\n                  |        /   /       /\n                  +------/---/-------/----+\n                       /   /       /      |\n    us    = [ n,  s,  n,  n,  s,  n,  s,  n ]\n    src   = [-1, -1,  4,  5, -1,  7, -1,  1 ]\n    lis   = [         2,  3,      5]\n                      j\n    utext = [     1,          4,      6 ]\n                  i\n    ntext = [         2,              6 ]\n                      k\n    */\n    // replace strings in us with Text nodes, reusing Text nodes from ns when we can do so without moving them\n    var utexti = 0, lcsj = 0, ntextk = 0;\n    for (i = 0, j = 0, k = 0; i < utext.length; i++) {\n        utexti = utext[i];\n        // need to answer qeustion \"if utext[i] falls between two lcs nodes, is there an ntext between them which we can reuse?\"\n        // first, find j such that lcs[j] is the first lcs node *after* utext[i]\n        while (j < lcs.length && (lcsj = lcs[j]) < utexti - umin)\n            j++;\n        // now, find k such that ntext[k] is the first ntext *after* lcs[j-1] (or after start, if j === 0)\n        while (k < ntext.length && (ntextk = ntext[k], j !== 0) && ntextk < src[lcs[j - 1]])\n            k++;\n        // if ntext[k] < lcs[j], then we know ntext[k] falls between lcs[j-1] (or start) and lcs[j] (or end)\n        // that means we can re-use it without moving it\n        if (k < ntext.length && (j === lcs.length || ntextk < src[lcsj])) {\n            n = ns[ntextk];\n            u = us[utexti];\n            if (n.data !== u)\n                n.data = u;\n            ns[ntextk] = null;\n            us[utexti] = n;\n            src[utexti] = NOINSERT;\n            k++;\n        }\n        else {\n            // if we didn't find one to re-use, make a new Text node\n            us[utexti] = document.createTextNode(us[utexti]);\n        }\n    }\n    // remove stale nodes in ns\n    while (nmin <= nmax) {\n        n = ns[nmin];\n        if (n !== null) {\n            parent.removeChild(n);\n        }\n        nmin++;\n    }\n    // insert new nodes\n    while (umin <= umax) {\n        ux = us[umax];\n        if (src[umax - umin] !== NOINSERT) {\n            if (ul === null)\n                parent.appendChild(ux);\n            else\n                parent.insertBefore(ux, ul);\n        }\n        ul = ux;\n        umax--;\n    }\n}\n// two nodes are \"equable\" if they are identical (===) or if we can make them the same, i.e. they're \n// Text nodes, which we can reuse with the new text\nfunction equable(u, n, i, us) {\n    if (u === n) {\n        return true;\n    }\n    else if (typeof u === 'string' && n instanceof Text) {\n        if (n.data !== u)\n            n.data = u;\n        us[i] = n;\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction appendNodes(parent, array, i, end) {\n    var node;\n    for (; i < end; i++) {\n        node = array[i];\n        if (node instanceof Node) {\n            parent.appendChild(node);\n        }\n        else {\n            node = array[i] = document.createTextNode(node);\n            parent.appendChild(node);\n        }\n    }\n}\nfunction insertOrAppend(parent, node, marker, i, us) {\n    if (typeof node === 'string') {\n        node = us[i] = document.createTextNode(node);\n    }\n    if (marker === null)\n        parent.appendChild(node);\n    else\n        parent.insertBefore(node, marker);\n}\nfunction normalizeIncomingArray(normalized, array) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        var item = array[i];\n        if (item instanceof Node) {\n            normalized.push(item);\n        }\n        else if (item == null || item === true || item === false) { // matches null, undefined, true or false\n            // skip\n        }\n        else if (Array.isArray(item)) {\n            normalizeIncomingArray(normalized, item);\n        }\n        else if (typeof item === 'string') {\n            normalized.push(item);\n        }\n        else {\n            normalized.push(item.toString());\n        }\n    }\n    return normalized;\n}\nfunction clear(node) {\n    node.textContent = \"\";\n}\n// return an array of the indices of ns that comprise the longest increasing subsequence within ns\nfunction longestPositiveIncreasingSubsequence(ns) {\n    var seq = [], is = [], l = -1, pre = new Array(ns.length);\n    for (var i = 0, len = ns.length; i < len; i++) {\n        var n = ns[i];\n        if (n < 0)\n            continue;\n        var j = findGreatestIndexLEQ(seq, n);\n        if (j !== -1)\n            pre[i] = is[j];\n        if (j === l) {\n            l++;\n            seq[l] = n;\n            is[l] = i;\n        }\n        else if (n < seq[j + 1]) {\n            seq[j + 1] = n;\n            is[j + 1] = i;\n        }\n    }\n    for (i = is[l]; l >= 0; i = pre[i], l--) {\n        seq[l] = i;\n    }\n    return seq;\n}\nfunction findGreatestIndexLEQ(seq, n) {\n    // invariant: lo is guaranteed to be index of a value <= n, hi to be >\n    // therefore, they actually start out of range: (-1, last + 1)\n    var lo = -1, hi = seq.length;\n    // fast path for simple increasing sequences\n    if (hi > 0 && seq[hi - 1] <= n)\n        return hi - 1;\n    while (hi - lo > 1) {\n        var mid = Math.floor((lo + hi) / 2);\n        if (seq[mid] > n) {\n            hi = mid;\n        }\n        else {\n            lo = mid;\n        }\n    }\n    return lo;\n}\n","var svgNS = \"http://www.w3.org/2000/svg\";\nexport function createElement(tag, className, parent) {\n    var el = document.createElement(tag);\n    if (className)\n        el.className = className;\n    if (parent)\n        parent.appendChild(el);\n    return el;\n}\nexport function createSvgElement(tag, className, parent) {\n    var el = document.createElementNS(svgNS, tag);\n    if (className)\n        el.setAttribute(\"class\", className);\n    if (parent)\n        parent.appendChild(el);\n    return el;\n}\nexport function createComment(text, parent) {\n    var comment = document.createComment(text);\n    parent.appendChild(comment);\n    return comment;\n}\nexport function createTextNode(text, parent) {\n    var node = document.createTextNode(text);\n    parent.appendChild(node);\n    return node;\n}\nexport function setAttribute(node, name, value) {\n    if (value === false || value === null || value === undefined)\n        node.removeAttribute(name);\n    else\n        node.setAttribute(name, value);\n}\nexport function setAttributeNS(node, namespace, name, value) {\n    if (value === false || value === null || value === undefined)\n        node.removeAttributeNS(namespace, name);\n    else\n        node.setAttributeNS(namespace, name, value);\n}\n","var \n// pre-seed the caches with a few special cases, so we don't need to check for them in the common cases\nhtmlFieldCache = {\n    // special props\n    style: ['style', null, 3 /* Assign */],\n    ref: ['ref', null, 2 /* Ignore */],\n    fn: ['fn', null, 2 /* Ignore */],\n    // attr compat\n    class: ['className', null, 0 /* Property */],\n    for: ['htmlFor', null, 0 /* Property */],\n    \"accept-charset\": ['acceptCharset', null, 0 /* Property */],\n    \"http-equiv\": ['httpEquiv', null, 0 /* Property */],\n    // a few React oddities, mostly disagreeing about casing\n    onDoubleClick: ['ondblclick', null, 0 /* Property */],\n    spellCheck: ['spellcheck', null, 0 /* Property */],\n    allowFullScreen: ['allowFullscreen', null, 0 /* Property */],\n    autoCapitalize: ['autocapitalize', null, 0 /* Property */],\n    autoFocus: ['autofocus', null, 0 /* Property */],\n    autoPlay: ['autoplay', null, 0 /* Property */],\n    // other\n    // role is part of the ARIA spec but not caught by the aria- attr filter\n    role: ['role', null, 1 /* Attribute */]\n}, svgFieldCache = {\n    // special props\n    style: ['style', null, 3 /* Assign */],\n    ref: ['ref', null, 2 /* Ignore */],\n    fn: ['fn', null, 2 /* Ignore */],\n    // property compat\n    className: ['class', null, 1 /* Attribute */],\n    htmlFor: ['for', null, 1 /* Attribute */],\n    tabIndex: ['tabindex', null, 1 /* Attribute */],\n    // React compat\n    onDoubleClick: ['ondblclick', null, 0 /* Property */],\n    // attributes with eccentric casing - some SVG attrs are snake-cased, some camelCased\n    allowReorder: ['allowReorder', null, 1 /* Attribute */],\n    attributeName: ['attributeName', null, 1 /* Attribute */],\n    attributeType: ['attributeType', null, 1 /* Attribute */],\n    autoReverse: ['autoReverse', null, 1 /* Attribute */],\n    baseFrequency: ['baseFrequency', null, 1 /* Attribute */],\n    calcMode: ['calcMode', null, 1 /* Attribute */],\n    clipPathUnits: ['clipPathUnits', null, 1 /* Attribute */],\n    contentScriptType: ['contentScriptType', null, 1 /* Attribute */],\n    contentStyleType: ['contentStyleType', null, 1 /* Attribute */],\n    diffuseConstant: ['diffuseConstant', null, 1 /* Attribute */],\n    edgeMode: ['edgeMode', null, 1 /* Attribute */],\n    externalResourcesRequired: ['externalResourcesRequired', null, 1 /* Attribute */],\n    filterRes: ['filterRes', null, 1 /* Attribute */],\n    filterUnits: ['filterUnits', null, 1 /* Attribute */],\n    gradientTransform: ['gradientTransform', null, 1 /* Attribute */],\n    gradientUnits: ['gradientUnits', null, 1 /* Attribute */],\n    kernelMatrix: ['kernelMatrix', null, 1 /* Attribute */],\n    kernelUnitLength: ['kernelUnitLength', null, 1 /* Attribute */],\n    keyPoints: ['keyPoints', null, 1 /* Attribute */],\n    keySplines: ['keySplines', null, 1 /* Attribute */],\n    keyTimes: ['keyTimes', null, 1 /* Attribute */],\n    lengthAdjust: ['lengthAdjust', null, 1 /* Attribute */],\n    limitingConeAngle: ['limitingConeAngle', null, 1 /* Attribute */],\n    markerHeight: ['markerHeight', null, 1 /* Attribute */],\n    markerUnits: ['markerUnits', null, 1 /* Attribute */],\n    maskContentUnits: ['maskContentUnits', null, 1 /* Attribute */],\n    maskUnits: ['maskUnits', null, 1 /* Attribute */],\n    numOctaves: ['numOctaves', null, 1 /* Attribute */],\n    pathLength: ['pathLength', null, 1 /* Attribute */],\n    patternContentUnits: ['patternContentUnits', null, 1 /* Attribute */],\n    patternTransform: ['patternTransform', null, 1 /* Attribute */],\n    patternUnits: ['patternUnits', null, 1 /* Attribute */],\n    pointsAtX: ['pointsAtX', null, 1 /* Attribute */],\n    pointsAtY: ['pointsAtY', null, 1 /* Attribute */],\n    pointsAtZ: ['pointsAtZ', null, 1 /* Attribute */],\n    preserveAlpha: ['preserveAlpha', null, 1 /* Attribute */],\n    preserveAspectRatio: ['preserveAspectRatio', null, 1 /* Attribute */],\n    primitiveUnits: ['primitiveUnits', null, 1 /* Attribute */],\n    refX: ['refX', null, 1 /* Attribute */],\n    refY: ['refY', null, 1 /* Attribute */],\n    repeatCount: ['repeatCount', null, 1 /* Attribute */],\n    repeatDur: ['repeatDur', null, 1 /* Attribute */],\n    requiredExtensions: ['requiredExtensions', null, 1 /* Attribute */],\n    requiredFeatures: ['requiredFeatures', null, 1 /* Attribute */],\n    specularConstant: ['specularConstant', null, 1 /* Attribute */],\n    specularExponent: ['specularExponent', null, 1 /* Attribute */],\n    spreadMethod: ['spreadMethod', null, 1 /* Attribute */],\n    startOffset: ['startOffset', null, 1 /* Attribute */],\n    stdDeviation: ['stdDeviation', null, 1 /* Attribute */],\n    stitchTiles: ['stitchTiles', null, 1 /* Attribute */],\n    surfaceScale: ['surfaceScale', null, 1 /* Attribute */],\n    systemLanguage: ['systemLanguage', null, 1 /* Attribute */],\n    tableValues: ['tableValues', null, 1 /* Attribute */],\n    targetX: ['targetX', null, 1 /* Attribute */],\n    targetY: ['targetY', null, 1 /* Attribute */],\n    textLength: ['textLength', null, 1 /* Attribute */],\n    viewBox: ['viewBox', null, 1 /* Attribute */],\n    viewTarget: ['viewTarget', null, 1 /* Attribute */],\n    xChannelSelector: ['xChannelSelector', null, 1 /* Attribute */],\n    yChannelSelector: ['yChannelSelector', null, 1 /* Attribute */],\n    zoomAndPan: ['zoomAndPan', null, 1 /* Attribute */],\n};\nvar attributeOnlyRx = /-/, deepAttrRx = /^style-/, isAttrOnlyField = function (field) { return attributeOnlyRx.test(field) && !deepAttrRx.test(field); }, propOnlyRx = /^(on|style)/, isPropOnlyField = function (field) { return propOnlyRx.test(field); }, propPartRx = /[a-z][A-Z]/g, getAttrName = function (field) { return field.replace(propPartRx, function (m) { return m[0] + '-' + m[1]; }).toLowerCase(); }, jsxEventPropRx = /^on[A-Z]/, attrPartRx = /\\-(?:[a-z]|$)/g, getPropName = function (field) {\n    var prop = field.replace(attrPartRx, function (m) { return m.length === 1 ? '' : m[1].toUpperCase(); });\n    return jsxEventPropRx.test(prop) ? prop.toLowerCase() : prop;\n}, deepPropRx = /^(style)([A-Z])/, buildPropData = function (prop) {\n    var m = deepPropRx.exec(prop);\n    return m ? [m[2].toLowerCase() + prop.substr(m[0].length), m[1], 0 /* Property */] : [prop, null, 0 /* Property */];\n}, attrNamespaces = {\n    xlink: \"http://www.w3.org/1999/xlink\",\n    xml: \"http://www.w3.org/XML/1998/namespace\",\n}, attrNamespaceRx = new RegExp(\"^(\" + Object.keys(attrNamespaces).join('|') + \")-(.*)\"), buildAttrData = function (attr) {\n    var m = attrNamespaceRx.exec(attr);\n    return m ? [m[2], attrNamespaces[m[1]], 1 /* Attribute */] : [attr, null, 1 /* Attribute */];\n};\nexport var getFieldData = function (field, svg) {\n    var cache = svg ? svgFieldCache : htmlFieldCache, cached = cache[field];\n    if (cached)\n        return cached;\n    var attr = svg && !isPropOnlyField(field)\n        || !svg && isAttrOnlyField(field), name = attr ? getAttrName(field) : getPropName(field);\n    if (name !== field && (cached = cache[name]))\n        return cached;\n    var data = attr ? buildAttrData(name) : buildPropData(name);\n    return cache[field] = data;\n};\n","import { setAttribute } from './dom';\nimport { getFieldData } from './fieldData';\nimport { setAttributeNS } from './index';\nexport function assign(a, b) {\n    var props = Object.keys(b);\n    for (var i = 0, len = props.length; i < len; i++) {\n        var name = props[i];\n        a[name] = b[name];\n    }\n}\nexport function spread(node, obj, svg) {\n    var props = Object.keys(obj);\n    for (var i = 0, len = props.length; i < len; i++) {\n        var name = props[i];\n        setField(node, name, obj[name], svg);\n    }\n}\nfunction setField(node, field, value, svg) {\n    var _a = getFieldData(field, svg), name = _a[0], namespace = _a[1], flags = _a[2], type = flags & 3 /* Type */;\n    if (type === 0 /* Property */) {\n        if (namespace)\n            node = node[namespace];\n        node[name] = value;\n    }\n    else if (type === 1 /* Attribute */) {\n        if (namespace)\n            setAttributeNS(node, namespace, name, value);\n        else\n            setAttribute(node, name, value);\n    }\n    else if (type === 3 /* Assign */) {\n        if (value && typeof value === 'object')\n            assign(node.style, value);\n    }\n}\n","// Public interface\r\nvar S = function S(fn, value) {\r\n    var node = new ComputationNode(fn, value);\r\n    return function computation() {\r\n        return node.current();\r\n    };\r\n};\r\n// compatibility with commonjs systems that expect default export to be at require('s.js').default rather than just require('s-js')\r\nObject.defineProperty(S, 'default', { value: S });\r\nexport default S;\r\nS.root = function root(fn) {\r\n    var owner = Owner, root = fn.length === 0 ? UNOWNED : new ComputationNode(null, null), result = undefined, disposer = fn.length === 0 ? null : function _dispose() {\r\n        if (RunningClock !== null) {\r\n            RootClock.disposes.add(root);\r\n        }\r\n        else {\r\n            dispose(root);\r\n        }\r\n    };\r\n    Owner = root;\r\n    if (RunningClock === null) {\r\n        result = topLevelRoot(fn, disposer, owner);\r\n    }\r\n    else {\r\n        result = disposer === null ? fn() : fn(disposer);\r\n        Owner = owner;\r\n    }\r\n    return result;\r\n};\r\nfunction topLevelRoot(fn, disposer, owner) {\r\n    try {\r\n        return disposer === null ? fn() : fn(disposer);\r\n    }\r\n    finally {\r\n        Owner = owner;\r\n    }\r\n}\r\nS.on = function on(ev, fn, seed, onchanges) {\r\n    if (Array.isArray(ev))\r\n        ev = callAll(ev);\r\n    onchanges = !!onchanges;\r\n    return S(on, seed);\r\n    function on(value) {\r\n        var running = RunningNode;\r\n        ev();\r\n        if (onchanges)\r\n            onchanges = false;\r\n        else {\r\n            RunningNode = null;\r\n            value = fn(value);\r\n            RunningNode = running;\r\n        }\r\n        return value;\r\n    }\r\n};\r\nfunction callAll(ss) {\r\n    return function all() {\r\n        for (var i = 0; i < ss.length; i++)\r\n            ss[i]();\r\n    };\r\n}\r\nS.effect = function effect(fn, value) {\r\n    new ComputationNode(fn, value);\r\n};\r\nS.data = function data(value) {\r\n    var node = new DataNode(value);\r\n    return function data(value) {\r\n        if (arguments.length === 0) {\r\n            return node.current();\r\n        }\r\n        else {\r\n            return node.next(value);\r\n        }\r\n    };\r\n};\r\nS.value = function value(current, eq) {\r\n    var data = S.data(current), age = -1;\r\n    return function value(update) {\r\n        if (arguments.length === 0) {\r\n            return data();\r\n        }\r\n        else {\r\n            var same = eq ? eq(current, update) : current === update;\r\n            if (!same) {\r\n                var time = RootClock.time;\r\n                if (age === time)\r\n                    throw new Error(\"conflicting values: \" + update + \" is not the same as \" + current);\r\n                age = time;\r\n                current = update;\r\n                data(update);\r\n            }\r\n            return update;\r\n        }\r\n    };\r\n};\r\nS.freeze = function freeze(fn) {\r\n    var result = undefined;\r\n    if (RunningClock !== null) {\r\n        result = fn();\r\n    }\r\n    else {\r\n        RunningClock = RootClock;\r\n        RunningClock.changes.reset();\r\n        try {\r\n            result = fn();\r\n            event();\r\n        }\r\n        finally {\r\n            RunningClock = null;\r\n        }\r\n    }\r\n    return result;\r\n};\r\nS.sample = function sample(fn) {\r\n    var result, running = RunningNode;\r\n    if (running !== null) {\r\n        RunningNode = null;\r\n        result = fn();\r\n        RunningNode = running;\r\n    }\r\n    else {\r\n        result = fn();\r\n    }\r\n    return result;\r\n};\r\nS.cleanup = function cleanup(fn) {\r\n    if (Owner !== null) {\r\n        if (Owner.cleanups === null)\r\n            Owner.cleanups = [fn];\r\n        else\r\n            Owner.cleanups.push(fn);\r\n    }\r\n    else {\r\n        console.warn(\"cleanups created without a root or parent will never be run\");\r\n    }\r\n};\r\n// experimental : exposing node constructors and some state\r\nS.makeDataNode = function makeDataNode(value) {\r\n    return new DataNode(value);\r\n};\r\nS.makeComputationNode = function makeComputationNode(fn, seed) {\r\n    return new ComputationNode(fn, seed);\r\n};\r\nS.isFrozen = function isFrozen() {\r\n    return RunningClock !== null;\r\n};\r\nS.isListening = function isListening() {\r\n    return RunningNode !== null;\r\n};\r\n// Internal implementation\r\n/// Graph classes and operations\r\nvar Clock = /** @class */ (function () {\r\n    function Clock() {\r\n        this.time = 0;\r\n        this.changes = new Queue(); // batched changes to data nodes\r\n        this.updates = new Queue(); // computations to update\r\n        this.disposes = new Queue(); // disposals to run after current batch of updates finishes\r\n    }\r\n    return Clock;\r\n}());\r\nvar RootClockProxy = {\r\n    time: function () { return RootClock.time; }\r\n};\r\nvar DataNode = /** @class */ (function () {\r\n    function DataNode(value) {\r\n        this.value = value;\r\n        this.pending = NOTPENDING;\r\n        this.log = null;\r\n    }\r\n    DataNode.prototype.current = function () {\r\n        if (RunningNode !== null) {\r\n            logDataRead(this, RunningNode);\r\n        }\r\n        return this.value;\r\n    };\r\n    DataNode.prototype.next = function (value) {\r\n        if (RunningClock !== null) {\r\n            if (this.pending !== NOTPENDING) { // value has already been set once, check for conflicts\r\n                if (value !== this.pending) {\r\n                    throw new Error(\"conflicting changes: \" + value + \" !== \" + this.pending);\r\n                }\r\n            }\r\n            else { // add to list of changes\r\n                this.pending = value;\r\n                RootClock.changes.add(this);\r\n            }\r\n        }\r\n        else { // not batching, respond to change now\r\n            if (this.log !== null) {\r\n                this.pending = value;\r\n                RootClock.changes.add(this);\r\n                event();\r\n            }\r\n            else {\r\n                this.value = value;\r\n            }\r\n        }\r\n        return value;\r\n    };\r\n    DataNode.prototype.clock = function () {\r\n        return RootClockProxy;\r\n    };\r\n    return DataNode;\r\n}());\r\nvar ComputationNode = /** @class */ (function () {\r\n    function ComputationNode(fn, value) {\r\n        this.state = CURRENT;\r\n        this.source1 = null;\r\n        this.source1slot = 0;\r\n        this.sources = null;\r\n        this.sourceslots = null;\r\n        this.log = null;\r\n        this.owned = null;\r\n        this.cleanups = null;\r\n        this.fn = fn;\r\n        this.value = value;\r\n        this.age = RootClock.time;\r\n        if (fn === null)\r\n            return;\r\n        var owner = Owner, running = RunningNode;\r\n        if (owner === null)\r\n            console.warn(\"computations created without a root or parent will never be disposed\");\r\n        Owner = RunningNode = this;\r\n        if (RunningClock === null) {\r\n            toplevelComputation(this);\r\n        }\r\n        else {\r\n            this.value = this.fn(this.value);\r\n        }\r\n        if (owner && owner !== UNOWNED) {\r\n            if (owner.owned === null)\r\n                owner.owned = [this];\r\n            else\r\n                owner.owned.push(this);\r\n        }\r\n        Owner = owner;\r\n        RunningNode = running;\r\n    }\r\n    ComputationNode.prototype.current = function () {\r\n        if (RunningNode !== null) {\r\n            if (this.age === RootClock.time) {\r\n                if (this.state === RUNNING)\r\n                    throw new Error(\"circular dependency\");\r\n                else\r\n                    updateNode(this); // checks for state === STALE internally, so don't need to check here\r\n            }\r\n            logComputationRead(this, RunningNode);\r\n        }\r\n        return this.value;\r\n    };\r\n    ComputationNode.prototype.clock = function () {\r\n        return RootClockProxy;\r\n    };\r\n    return ComputationNode;\r\n}());\r\nvar Log = /** @class */ (function () {\r\n    function Log() {\r\n        this.node1 = null;\r\n        this.node1slot = 0;\r\n        this.nodes = null;\r\n        this.nodeslots = null;\r\n    }\r\n    return Log;\r\n}());\r\nvar Queue = /** @class */ (function () {\r\n    function Queue() {\r\n        this.items = [];\r\n        this.count = 0;\r\n    }\r\n    Queue.prototype.reset = function () {\r\n        this.count = 0;\r\n    };\r\n    Queue.prototype.add = function (item) {\r\n        this.items[this.count++] = item;\r\n    };\r\n    Queue.prototype.run = function (fn) {\r\n        var items = this.items;\r\n        for (var i = 0; i < this.count; i++) {\r\n            fn(items[i]);\r\n            items[i] = null;\r\n        }\r\n        this.count = 0;\r\n    };\r\n    return Queue;\r\n}());\r\n// Constants\r\nvar NOTPENDING = {}, CURRENT = 0, STALE = 1, RUNNING = 2;\r\n// \"Globals\" used to keep track of current system state\r\nvar RootClock = new Clock(), RunningClock = null, // currently running clock \r\nRunningNode = null, // currently running computation\r\nOwner = null, // owner for new computations\r\nUNOWNED = new ComputationNode(null, null);\r\n// Functions\r\nfunction logRead(from, to) {\r\n    var fromslot, toslot = to.source1 === null ? -1 : to.sources === null ? 0 : to.sources.length;\r\n    if (from.node1 === null) {\r\n        from.node1 = to;\r\n        from.node1slot = toslot;\r\n        fromslot = -1;\r\n    }\r\n    else if (from.nodes === null) {\r\n        from.nodes = [to];\r\n        from.nodeslots = [toslot];\r\n        fromslot = 0;\r\n    }\r\n    else {\r\n        fromslot = from.nodes.length;\r\n        from.nodes.push(to);\r\n        from.nodeslots.push(toslot);\r\n    }\r\n    if (to.source1 === null) {\r\n        to.source1 = from;\r\n        to.source1slot = fromslot;\r\n    }\r\n    else if (to.sources === null) {\r\n        to.sources = [from];\r\n        to.sourceslots = [fromslot];\r\n    }\r\n    else {\r\n        to.sources.push(from);\r\n        to.sourceslots.push(fromslot);\r\n    }\r\n}\r\nfunction logDataRead(data, to) {\r\n    if (data.log === null)\r\n        data.log = new Log();\r\n    logRead(data.log, to);\r\n}\r\nfunction logComputationRead(node, to) {\r\n    if (node.log === null)\r\n        node.log = new Log();\r\n    logRead(node.log, to);\r\n}\r\nfunction event() {\r\n    // b/c we might be under a top level S.root(), have to preserve current root\r\n    var owner = Owner;\r\n    RootClock.updates.reset();\r\n    RootClock.time++;\r\n    try {\r\n        run(RootClock);\r\n    }\r\n    finally {\r\n        RunningClock = RunningNode = null;\r\n        Owner = owner;\r\n    }\r\n}\r\nfunction toplevelComputation(node) {\r\n    RunningClock = RootClock;\r\n    RootClock.changes.reset();\r\n    RootClock.updates.reset();\r\n    try {\r\n        node.value = node.fn(node.value);\r\n        if (RootClock.changes.count > 0 || RootClock.updates.count > 0) {\r\n            RootClock.time++;\r\n            run(RootClock);\r\n        }\r\n    }\r\n    finally {\r\n        RunningClock = Owner = RunningNode = null;\r\n    }\r\n}\r\nfunction run(clock) {\r\n    var running = RunningClock, count = 0;\r\n    RunningClock = clock;\r\n    clock.disposes.reset();\r\n    // for each batch ...\r\n    while (clock.changes.count !== 0 || clock.updates.count !== 0 || clock.disposes.count !== 0) {\r\n        if (count > 0) // don't tick on first run, or else we expire already scheduled updates\r\n            clock.time++;\r\n        clock.changes.run(applyDataChange);\r\n        clock.updates.run(updateNode);\r\n        clock.disposes.run(dispose);\r\n        // if there are still changes after excessive batches, assume runaway            \r\n        if (count++ > 1e5) {\r\n            throw new Error(\"Runaway clock detected\");\r\n        }\r\n    }\r\n    RunningClock = running;\r\n}\r\nfunction applyDataChange(data) {\r\n    data.value = data.pending;\r\n    data.pending = NOTPENDING;\r\n    if (data.log)\r\n        markComputationsStale(data.log);\r\n}\r\nfunction markComputationsStale(log) {\r\n    var node1 = log.node1, nodes = log.nodes;\r\n    // mark all downstream nodes stale which haven't been already\r\n    if (node1 !== null)\r\n        markNodeStale(node1);\r\n    if (nodes !== null) {\r\n        for (var i = 0, len = nodes.length; i < len; i++) {\r\n            markNodeStale(nodes[i]);\r\n        }\r\n    }\r\n}\r\nfunction markNodeStale(node) {\r\n    var time = RootClock.time;\r\n    if (node.age < time) {\r\n        node.age = time;\r\n        node.state = STALE;\r\n        RootClock.updates.add(node);\r\n        if (node.owned !== null)\r\n            markOwnedNodesForDisposal(node.owned);\r\n        if (node.log !== null)\r\n            markComputationsStale(node.log);\r\n    }\r\n}\r\nfunction markOwnedNodesForDisposal(owned) {\r\n    for (var i = 0; i < owned.length; i++) {\r\n        var child = owned[i];\r\n        child.age = RootClock.time;\r\n        child.state = CURRENT;\r\n        if (child.owned !== null)\r\n            markOwnedNodesForDisposal(child.owned);\r\n    }\r\n}\r\nfunction updateNode(node) {\r\n    if (node.state === STALE) {\r\n        var owner = Owner, running = RunningNode;\r\n        Owner = RunningNode = node;\r\n        node.state = RUNNING;\r\n        cleanup(node, false);\r\n        node.value = node.fn(node.value);\r\n        node.state = CURRENT;\r\n        Owner = owner;\r\n        RunningNode = running;\r\n    }\r\n}\r\nfunction cleanup(node, final) {\r\n    var source1 = node.source1, sources = node.sources, sourceslots = node.sourceslots, cleanups = node.cleanups, owned = node.owned, i, len;\r\n    if (cleanups !== null) {\r\n        for (i = 0; i < cleanups.length; i++) {\r\n            cleanups[i](final);\r\n        }\r\n        node.cleanups = null;\r\n    }\r\n    if (owned !== null) {\r\n        for (i = 0; i < owned.length; i++) {\r\n            dispose(owned[i]);\r\n        }\r\n        node.owned = null;\r\n    }\r\n    if (source1 !== null) {\r\n        cleanupSource(source1, node.source1slot);\r\n        node.source1 = null;\r\n    }\r\n    if (sources !== null) {\r\n        for (i = 0, len = sources.length; i < len; i++) {\r\n            cleanupSource(sources.pop(), sourceslots.pop());\r\n        }\r\n    }\r\n}\r\nfunction cleanupSource(source, slot) {\r\n    var nodes = source.nodes, nodeslots = source.nodeslots, last, lastslot;\r\n    if (slot === -1) {\r\n        source.node1 = null;\r\n    }\r\n    else {\r\n        last = nodes.pop();\r\n        lastslot = nodeslots.pop();\r\n        if (slot !== nodes.length) {\r\n            nodes[slot] = last;\r\n            nodeslots[slot] = lastslot;\r\n            if (lastslot === -1) {\r\n                last.source1slot = slot;\r\n            }\r\n            else {\r\n                last.sourceslots[lastslot] = slot;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction dispose(node) {\r\n    node.fn = null;\r\n    node.log = null;\r\n    cleanup(node, true);\r\n}\r\n","export { insert } from './insert';\nexport { content } from './content';\nexport * from './dom';\nexport { spread, assign } from './spread';\nexport { default as S } from 's-js';\n","import * as Surplus from 'surplus'\nimport \"./Card.css\";\n\nconst Card = ({ title, children }) => {\n  return (\n    <section className={\"card \" + title.replace(\" \", \"-\")}>\n      <h2>{title}</h2>\n      {children}\n    </section>\n  );\n};\n\nexport default Card;\n","import * as Surplus from \"surplus\";\nimport S from 's-js'\nimport Card from \"../components/Card\";\n\nimport \"./Counter.css\";\n\nconst Counter = () => {\n  let count = S.data(10);\n\n  return (\n    <Card title=\"Counter\">\n      {count()}\n      <button onClick={() => {\n        console.log(S.sample(count))\n        count(count() + 1)}\n        }>+</button>\n    </Card>\n  );\n};\n\nexport default Counter","import * as Surplus from \"surplus\";\nimport S from \"s-js\";\nimport Counter from './tasks/Counter'\n\nimport \"./App.css\";\n\nconsole.log(S);\n\nconst App = () => {\n  // let count = S.data(10);\n\n  // return (\n  //   <div>\n  //     {count()}\n  //     <button onClick={() => count(count() + 1)}>+</button>\n  //   </div>\n  // );\n\n  return (\n    <main className=\"App\">\n      <a href=\"../../index.html\">Home</a>\n\n      <Counter />\n    </main>\n  );\n};\n\nexport default App;\n","import App from \"./App\";\nimport S from \"s-js\";\n\nS.root(() => {\n  document.querySelector(\"#root\").append(App());\n});\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}