{"version":3,"sources":["../observable/src/observable.js","../observable/src/utils.js","../htm/src/build.js","../htm/src/index.js","h.js","../src/index.js","src/components/card.js","src/tasks/counter.js","src/components/Card.js","src/tasks/temperatureConverter.js","src/tasks/flightBooker.js","src/tasks/timer.js","src/tasks/crud.js","src/tasks/circleDrawer.js","src/tasks/cells/sampleData.js","src/tasks/cells/parse.js","src/tasks/cells/cells.js","src/app.js","src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["EMPTY_ARR","tracking","queue","isListening","root","fn","prevTracking","rootUpdate","resetUpdate","result","_unsubscribe","undefined","sample","value","transaction","q","forEach","data","_pending","pending","observable","nextValue","arguments","length","_observers","has","add","_observables","push","clearedUpdate","_runObservers","Set","observer","_fresh","$o","computed","update","_children","prevChildren","u","indexOf","getChildrenDeep","children","reduce","res","curr","concat","removeFreshChildren","o","_update","delete","cleanup","_cleanups","subscribe","unsubscribe","c","evaluate","h","built","fields","args","propBody","i","field","type","Object","assign","key","prev","parts","prop","j","apply","build","statics","char","propName","mode","buffer","quote","current","commit","replace","USE_MAP","Map","CACHE","getCache","tpl","get","set","this","Array","isArray","n","t","e","f","l","document","createTextNode","Node","nodeType","firstChild","lastChild","insertBefore","slice","call","createElementNS","createElement","createDocumentFragment","property","insert","splice","parentNode","el","previousSibling","nextSibling","removeChild","textContent","name","style","setProperty","setAttribute","cssText","toLowerCase","removeEventListener","addEventListener","context","hs","observable.o","html","htm","svg","card","title","counter","count","trunc","Number","toFixed","remove0","test","getC","getF","r","isValid","temp","temperatureConverter","updateFromC","updateFromF","from","to","target","flightMap","tryAsDate","dateString","dateArr","split","reverse","date","Date","join","valueOf","formatAsString","toISOString","flightBooker","flightType","startDate","returnDate","error1","error2","error3","isBookButtonDisabled","isOneWay","startDateClass","returnDateClass","book","timeStrings","alert","timer","MAX","duration","durationFormatted","start","time","progress","interval","createInterval","setInterval","startTimer","clearInterval","crud","prefix","entries","filteredEntries","map","entry","filter","startsWith","surname","selected","createHandler","updateHandler","deleteHandler","circleDrawer","BASE_RADIUS","step","snapshots","radius","resizing","present","resizingIndex","findIndex","circle","x","y","newPresent","handleRightClick","preventDefault","stopPropagation","cx","baseVal","cy","addCircle","layerX","layerY","newSnapshot","addSnapshot","newSnapshots","undo","Math","max","redo","min","endResize","overlay","circleSVG","view","cir","sampleData","A0","A1","A2","A3","B1","B2","A5","B5","A6","B6","A7","B7","A8","B8","A9","B9","A10","B10","C0","D0","C1","D1","C2","D2","C3","D3","C4","D4","C5","D5","C7","D7","C8","D8","C9","D9","C10","D10","C11","D11","C12","D12","C14","D14","C15","D15","Parser","store","columns","rows","cells","operations","sum","a","b","sub","mul","div","mod","exp","letters","numbers","letter","number","arr","end","startI","endI","rangeStart","rangeEnd","splitOperand","findArrRange","cartesianProduct","operand","match","op","isWellFormed","originalString","range","getRange","address","parse","operand1","operand2","first","parseOperand","second","toString","isNaN","formula","endsWith","operationType","formulaArr","includes","singleOperation","rangeOperation","str","parseOperation","toUpperCase","LETTERS","keys","letterRange","getNumberAsLetters","getBase26","remainder","floor","num","findAdjacent","direction","index","props","shape","p","focused","tBody","createNewCell","dataRef","handleFocus","setTimeout","setSelectionRange","handleBlur","handleInput","handleKeydown","column","row","selector","newRow","altKey","newColumn","input","querySelector","focus","clear","app","append","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","getBaseURL","url","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","now","cssTimeout","reloadCSS","links","querySelectorAll","module","OVERLAY_ID","OldModule","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","console","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","createErrorOverlay","body","appendChild","getElementById","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"src.a2b27638.js","sourceRoot":"..","sourcesContent":["import { getChildrenDeep } from './utils.js';\n\nconst EMPTY_ARR = [];\nlet tracking;\nlet queue;\n\n/**\n * Returns true if there is an active observer.\n * @return {boolean}\n */\nexport function isListening() {\n  return !!tracking;\n}\n\n/**\n * Creates a root and executes the passed function that can contain computations.\n * The executed function receives an `unsubscribe` argument which can be called to\n * unsubscribe all inner computations.\n *\n * @param  {Function} fn\n * @return {*}\n */\nexport function root(fn) {\n  const prevTracking = tracking;\n  const rootUpdate = () => {};\n  tracking = rootUpdate;\n  resetUpdate(rootUpdate);\n  const result = fn(() => {\n    _unsubscribe(rootUpdate);\n    tracking = undefined;\n  });\n  tracking = prevTracking;\n  return result;\n}\n\n/**\n * Sample the current value of an observable but don't create a dependency on it.\n *\n * @example\n * S(() => { if (foo()) bar(sample(bar) + 1); });\n *\n * @param  {Function} fn\n * @return {*}\n */\nexport function sample(fn) {\n  const prevTracking = tracking;\n  tracking = undefined;\n  const value = fn();\n  tracking = prevTracking;\n  return value;\n}\n\n/**\n * Creates a transaction in which an observable can be set multiple times\n * but only trigger a computation once.\n * @param  {Function} fn\n * @return {*}\n */\nexport function transaction(fn) {\n  queue = [];\n  const result = fn();\n  let q = queue;\n  queue = undefined;\n  q.forEach(data => {\n    if (data._pending !== EMPTY_ARR) {\n      const pending = data._pending;\n      data._pending = EMPTY_ARR;\n      data(pending);\n    }\n  });\n  return result;\n}\n\n/**\n * Creates a new observable, returns a function which can be used to get\n * the observable's value by calling the function without any arguments\n * and set the value by passing one argument of any type.\n *\n * @param  {*} value - Initial value.\n * @return {Function}\n */\nfunction observable(value) {\n  // Tiny indicator that this is an observable function.\n  data.$o = true;\n  data._observers = new Set();\n  // The 'not set' value must be unique, so `nullish` can be set in a transaction.\n  data._pending = EMPTY_ARR;\n\n  function data(nextValue) {\n    if (arguments.length === 0) {\n      if (tracking && !data._observers.has(tracking)) {\n        data._observers.add(tracking);\n        tracking._observables.push(data);\n      }\n      return value;\n    }\n\n    if (queue) {\n      if (data._pending === EMPTY_ARR) {\n        queue.push(data);\n      }\n      data._pending = nextValue;\n      return nextValue;\n    }\n\n    value = nextValue;\n\n    // Clear `tracking` otherwise a computed triggered by a set\n    // in another computed is seen as a child of that other computed.\n    const clearedUpdate = tracking;\n    tracking = undefined;\n\n    // Update can alter data._observers, make a copy before running.\n    data._runObservers = new Set(data._observers);\n    data._runObservers.forEach(observer => (observer._fresh = false));\n    data._runObservers.forEach(observer => {\n      if (!observer._fresh) observer();\n    });\n\n    tracking = clearedUpdate;\n    return value;\n  }\n\n  return data;\n}\n\n/**\n * @namespace\n * @borrows observable as o\n */\nexport { observable, observable as o };\n\n/**\n * Creates a new computation which runs when defined and automatically re-runs\n * when any of the used observable's values are set.\n *\n * @param {Function} observer\n * @param {*} value - Seed value.\n * @return {Function} Computation which can be used in other computations.\n */\nfunction computed(observer, value) {\n  observer._update = update;\n\n  // if (tracking == null) {\n  //   console.warn(\"computations created without a root or parent will never be disposed\");\n  // }\n\n  resetUpdate(update);\n  update();\n\n  function update() {\n    const prevTracking = tracking;\n    if (tracking) {\n      tracking._children.push(update);\n    }\n\n    const prevChildren = update._children;\n\n    _unsubscribe(update);\n    update._fresh = true;\n    tracking = update;\n    value = observer(value);\n\n    // If any children computations were removed mark them as fresh.\n    // Check the diff of the children list between pre and post update.\n    prevChildren.forEach(u => {\n      if (update._children.indexOf(u) === -1) {\n        u._fresh = true;\n      }\n    });\n\n    // If any children were marked as fresh remove them from the run lists.\n    const allChildren = getChildrenDeep(update._children);\n    allChildren.forEach(removeFreshChildren);\n\n    tracking = prevTracking;\n    return value;\n  }\n\n  // Tiny indicator that this is an observable function.\n  data.$o = true;\n\n  function data() {\n    if (update._fresh) {\n      update._observables.forEach(o => o());\n    } else {\n      value = update();\n    }\n    return value;\n  }\n\n  return data;\n}\n\nfunction removeFreshChildren(u) {\n  if (u._fresh) {\n    u._observables.forEach(o => {\n      if (o._runObservers) {\n        o._runObservers.delete(u);\n      }\n    });\n  }\n}\n\n/**\n * @namespace\n * @borrows computed as S\n */\nexport { computed, computed as S };\n\n/**\n * Run the given function just before the enclosing computation updates\n * or is disposed.\n * @param  {Function} fn\n * @return {Function}\n */\nexport function cleanup(fn) {\n  if (tracking) {\n    tracking._cleanups.push(fn);\n  }\n  return fn;\n}\n\n/**\n * Subscribe to updates of an observable.\n * @param  {Function} observer\n * @return {Function}\n */\nexport function subscribe(observer) {\n  computed(observer);\n  return () => _unsubscribe(observer._update);\n}\n\n/**\n * Unsubscribe from an observer.\n * @param  {Function} observer\n */\nexport function unsubscribe(observer) {\n  _unsubscribe(observer._update);\n}\n\nfunction _unsubscribe(update) {\n  update._children.forEach(_unsubscribe);\n  update._observables.forEach(o => {\n    o._observers.delete(update);\n    if (o._runObservers) {\n      o._runObservers.delete(update);\n    }\n  });\n  update._cleanups.forEach(c => c());\n  resetUpdate(update);\n}\n\nfunction resetUpdate(update) {\n  // Keep track of which observables trigger updates. Needed for unsubscribe.\n  update._observables = [];\n  update._children = [];\n  update._cleanups = [];\n}\n","export function getChildrenDeep(children) {\n  return children.reduce(\n    (res, curr) => res.concat(curr, getChildrenDeep(curr._children)),\n    []\n  );\n}\n","import { MINI } from './constants.js';\n\nconst MODE_SLASH = 0;\nconst MODE_TEXT = 1;\nconst MODE_WHITESPACE = 2;\nconst MODE_TAGNAME = 3;\nconst MODE_COMMENT = 4;\nconst MODE_PROP_SET = 5;\nconst MODE_PROP_APPEND = 6;\n\nconst TAG_SET = 1;\nconst CHILD_APPEND = 0;\nconst CHILD_RECURSE = 2;\nconst PROPS_ASSIGN = 3;\nconst PROP_SET = MODE_PROP_SET;\nconst PROP_APPEND = MODE_PROP_APPEND;\n\n// Turn a result of a build(...) call into a tree that is more\n// convenient to analyze and transform (e.g. Babel plugins).\n// For example:\n//  treeify(\n//    build'<div href=\"1${a}\" ...${b}><${x} /></div>`,\n//    [X, Y, Z]\n//  )\n// returns:\n//  {\n//    tag: 'div',\n//    props: [ { href: [\"1\", X] },  Y ],\n//    children: [ { tag: Z, props: [], children: [] } ]\n//  }\nexport const treeify = (built, fields) => {\n  const _treeify = built => {\n    let tag = '';\n    let currentProps = null;\n    const props = [];\n    const children = [];\n\n    for (let i = 1; i < built.length; i++) {\n      const field = built[i++];\n      const value = typeof field === 'number' ? fields[field - 1] : field;\n\n      if (built[i] === TAG_SET) {\n        tag = value;\n      }\n      else if (built[i] === PROPS_ASSIGN) {\n        props.push(value);\n        currentProps = null;\n      }\n      else if (built[i] === PROP_SET) {\n        if (!currentProps) {\n          currentProps = Object.create(null);\n          props.push(currentProps);\n        }\n        currentProps[built[++i]] = [value];\n      }\n      else if (built[i] === PROP_APPEND) {\n        currentProps[built[++i]].push(value);\n      }\n      else if (built[i] === CHILD_RECURSE) {\n        children.push(_treeify(value));\n      }\n      else if (built[i] === CHILD_APPEND) {\n        children.push(value);\n      }\n    }\n\n    return { tag, props, children };\n  };\n  const { children } = _treeify(built);\n  return children.length > 1 ? children : children[0];\n};\n\n\nexport const evaluate = (h, built, fields, args) => {\n  let propBody = {};\n  for (let i = 1; i < built.length; i++) {\n    const field = built[i];\n    const value = typeof field === 'number' ? fields[field] : field;\n    const type = built[++i];\n\n    if (type === TAG_SET) {\n      args[0] = value;\n    }\n    else if (type === PROPS_ASSIGN) {\n      args[1] = Object.assign(args[1] || {}, value);\n    }\n    else if (type === PROP_SET) {\n      (args[1] = args[1] || {})[built[++i]] = value;\n    }\n    else if (type === PROP_APPEND) {\n      let key = built[++i];\n      let prev = (args[1] = args[1] || {})[key];\n      let parts = propBody[key];\n\n      if (!parts && (typeof value === 'function' || typeof prev === 'function')) {\n        parts = (prev && [prev]) || [];\n\n        args[1][key] = function() {\n          let prop = '';\n          for (var j = 0; j < parts.length; j++) {\n            prop += typeof parts[j] === 'function' ? parts[j]() : parts[j];\n          }\n          return prop;\n        };\n      }\n\n      if (parts) {\n        parts.push(value);\n      } else {\n        args[1][key] += (value + '');\n      }\n    }\n    else if (type) {\n      // code === CHILD_RECURSE\n      args.push(h.apply(null, evaluate(h, value, fields, ['', null])));\n    }\n    else {\n      // code === CHILD_APPEND\n      args.push(value);\n    }\n  }\n\n  return args;\n};\n\nexport const build = function(statics) {\n  const fields = arguments;\n  const h = this;\n\n  let mode = MODE_TEXT;\n  let buffer = '';\n  let quote = '';\n  let current = [0];\n  let char, propName;\n\n  const commit = field => {\n    if (mode === MODE_TEXT && (field || (buffer = buffer.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,'')))) {\n      if (MINI) {\n        current.push(field ? fields[field] : buffer);\n      }\n      else {\n        current.push(field || buffer, CHILD_APPEND);\n      }\n    }\n    else if (mode === MODE_TAGNAME && (field || buffer)) {\n      if (MINI) {\n        current[1] = field ? fields[field] : buffer;\n      }\n      else {\n        current.push(field || buffer, TAG_SET);\n      }\n      mode = MODE_WHITESPACE;\n    }\n    else if (mode === MODE_WHITESPACE && buffer === '...' && field) {\n      if (MINI) {\n        current[2] = Object.assign(current[2] || {}, fields[field]);\n      }\n      else {\n        current.push(field, PROPS_ASSIGN);\n      }\n    }\n    else if (mode === MODE_WHITESPACE && buffer && !field) {\n      if (MINI) {\n        (current[2] = current[2] || {})[buffer] = true;\n      }\n      else {\n        current.push(true, PROP_SET, buffer);\n      }\n    }\n    else if (mode >= MODE_PROP_SET) {\n      if (MINI) {\n        if (mode === MODE_PROP_SET) {\n          (current[2] = current[2] || {})[propName] = field ? buffer ? (buffer + fields[field]) : fields[field] : buffer;\n          mode = MODE_PROP_APPEND;\n        }\n        else if (field || buffer) {\n          current[2][propName] += field ? buffer + fields[field] : buffer;\n        }\n      }\n      else {\n        if (buffer || (!field && mode === MODE_PROP_SET)) {\n          current.push(buffer, mode, propName);\n          mode = MODE_PROP_APPEND;\n        }\n        if (field) {\n          current.push(field, mode, propName);\n          mode = MODE_PROP_APPEND;\n        }\n      }\n    }\n\n    buffer = '';\n  };\n\n  for (let i=0; i<statics.length; i++) {\n    if (i) {\n      if (mode === MODE_TEXT) {\n        commit();\n      }\n      commit(i);\n    }\n\n    for (let j=0; j<statics[i].length;j++) {\n      char = statics[i][j];\n\n      if (mode === MODE_TEXT) {\n        if (char === '<') {\n          // commit buffer\n          commit();\n          if (MINI) {\n            current = [current, '', null];\n          }\n          else {\n            current = [current];\n          }\n          mode = MODE_TAGNAME;\n        }\n        else {\n          buffer += char;\n        }\n      }\n      else if (mode === MODE_COMMENT) {\n        // Ignore everything until the last three characters are '-', '-' and '>'\n        if (buffer === '--' && char === '>') {\n          mode = MODE_TEXT;\n          buffer = '';\n        }\n        else {\n          buffer = char + buffer[0];\n        }\n      }\n      else if (quote) {\n        if (char === quote) {\n          quote = '';\n        }\n        else {\n          buffer += char;\n        }\n      }\n      else if (char === '\"' || char === \"'\") {\n        quote = char;\n      }\n      else if (char === '>') {\n        commit();\n        mode = MODE_TEXT;\n      }\n      else if (!mode) {\n        // Ignore everything until the tag ends\n      }\n      else if (char === '=') {\n        mode = MODE_PROP_SET;\n        propName = buffer;\n        buffer = '';\n      }\n      else if (char === '/' && (mode < MODE_PROP_SET || statics[i][j+1] === '>')) {\n        commit();\n        if (mode === MODE_TAGNAME) {\n          current = current[0];\n        }\n        mode = current;\n        if (MINI) {\n          (current = current[0]).push(h.apply(null, mode.slice(1)));\n        }\n        else {\n          (current = current[0]).push(mode, CHILD_RECURSE);\n        }\n        mode = MODE_SLASH;\n      }\n      else if (char === ' ' || char === '\\t' || char === '\\n' || char === '\\r') {\n        // <a disabled>\n        commit();\n        mode = MODE_WHITESPACE;\n      }\n      else {\n        buffer += char;\n      }\n\n      if (mode === MODE_TAGNAME && buffer === '!--') {\n        mode = MODE_COMMENT;\n        current = current[0];\n      }\n    }\n  }\n  commit();\n\n  if (MINI) {\n    return current.length > 2 ? current.slice(1) : current[1];\n  }\n  return current;\n};\n","/**\n * Copyright 2018 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *     http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MINI } from './constants.js';\nimport { build, evaluate } from './build.js';\n\nconst getCacheMap = statics => {\n  let tpl = CACHE.get(statics);\n  if (!tpl) {\n    CACHE.set(statics, (tpl = build(statics)));\n  }\n  return tpl;\n};\n\nconst getCacheKeyed = statics => {\n  let key = '';\n  for (let i = 0; i < statics.length; i++) {\n    key += statics[i].length + '-' + statics[i];\n  }\n  return CACHE[key] || (CACHE[key] = build(statics));\n};\n\nconst USE_MAP = !MINI && typeof Map === 'function';\nconst CACHE = USE_MAP ? new Map() : {};\nconst getCache = USE_MAP ? getCacheMap : getCacheKeyed;\n\nconst cached = function(statics) {\n  const children = evaluate(this, getCache(statics), arguments, []);\n  const result = children.length > 1 ? children : children[0];\n  if (result) {\n    return Array.isArray(result)\n      ? this(result)\n      : typeof result === 'object'\n      ? result\n      : this([result]);\n  }\n};\n\nexport default MINI ? build : cached;\n","const n={},t=[];let e=0;function o(o,f,i){let l;return\"string\"==typeof f?f=document.createTextNode(f):f instanceof Node||(f=n.h(t,f)),11===f.nodeType&&(l=f.firstChild)&&l!==f.lastChild&&(l.t=f.lastChild.t=++e),o.insertBefore(f,i||null),void 0===l?f:l}function f(n){return this.o[n.type](n)}function i(e,f){for(let t in e)n[t]=e[t];function i(){const e=t.slice.call(arguments);let i;function l(t){if(null==t);else if(\"string\"==typeof t)i?o(i,t):i=f?document.createElementNS(\"http://www.w3.org/2000/svg\",t):document.createElement(t);else if(Array.isArray(t))i||(i=document.createDocumentFragment()),t.forEach(l);else if(t instanceof Node)i?o(i,t):i=t;else if(\"object\"==typeof t)n.property(null,t,i,f);else if(\"function\"==typeof t)if(i){const e=o(i,\"\");n.insert(i,t,e)}else i=t.apply(null,e.splice(1));else o(i,\"\"+t)}return e.forEach(l),i}return n.h=i,i}n.insert=function(t,e,f,i,l){return t=f&&f.parentNode||t,e===i||(i&&\"string\"!=typeof i||!(\"string\"==typeof e||\"number\"==typeof e&&(e+=\"\"))?\"function\"==typeof e?n.subscribe((function(){i=n.insert(t,e.call({el:t}),f,i)})):(function(n,t,e,o){if(e){if(t){if(!o){const t=(o=e.previousSibling||n.lastChild).t;if(t)for(o=o.previousSibling;o&&o.t!==t;)o=o.previousSibling}let t;for(;o&&o!==e;)t=o.nextSibling,n.removeChild(o),o.t=0,o=t}}else n.textContent=\"\"}(t,i,f,l),i=null,e&&!0!==e&&(i=o(t,e,f))):(null!=i&&t.firstChild?f?(f.previousSibling||t.lastChild).data=e:t.firstChild.data=e:f?o(t,e,f):t.textContent=e,i=e)),i},n.property=function(t,e,o,i,l){if(null!=e)if(!t||\"attrs\"===t&&(i=!0))for(t in e)n.property(t,e[t],o,i,l);else\"o\"!==t[0]||\"n\"!==t[1]||e.$o?\"function\"==typeof e?n.subscribe((function(){n.property(t,e.call({el:o,name:t}),o,i,l)})):l?o.style.setProperty(t,e):i||\"data-\"===t.slice(0,5)||\"aria-\"===t.slice(0,5)?o.setAttribute(t,e):\"style\"===t?\"string\"==typeof e?o.style.cssText=e:n.property(null,e,o,i,!0):(\"class\"===t&&(t+=\"Name\"),o[t]=e):function(t,e,o){e=e.slice(2).toLowerCase();const i=n.cleanup(()=>t.removeEventListener(e,f));o?t.addEventListener(e,f):i(),(t.o||(t.o={}))[e]=o}(o,t,e)},n.add=o;export{n as api,i as context};\n//# sourceMappingURL=h.js.map\n","import {app} from './app'\n\ndocument.querySelector('#root').append(app())","import {html} from 'sinuous'\n\nimport \"./card.css\";\n\nexport const card = ({ title}, ...children) => {\n  return html`\n    <section className=${\"card \" + title.replace(\" \", \"-\")}>\n      <h2>${title}</h2>\n      ${children}\n    </section>\n  `\n};\n","import {html, o} from 'sinuous'\nimport {card} from '../components/card'\n\nimport \"./counter.css\";\n\nexport const counter = () => {\n  let count = o(0)\n\n  return html`\n    <${card} title=\"Counter\">\n      ${count}\n      <button onclick=${()=>count(count()+1)}>+</button>\n    <//>\n  `\n};","import {html} from 'sinuous'\n\nimport \"./card.css\";\n\nexport const card = ({ title}, ...children) => {\n  return html`\n    <section className=${\"card \" + title.replace(\" \", \"-\")}>\n      <h2>${title}</h2>\n      ${children}\n    </section>\n  `\n};\n","import { html, o } from \"sinuous\";\nimport { card } from \"../components/Card\";\n\nimport \"./temperatureConverter.css\";\n\nfunction trunc(n) {\n  return Number(n.toFixed(2));\n}\n\nfunction remove0(n) {\n  if (/^0\\d+$/.test(n)) return n.slice(1);\n  if (/^-0\\d+$/.test(n)) return \"-\" + n.slice(2);\n  return n;\n}\n\nfunction getC(f) {\n  return trunc((5 / 9) * (f - 32)) || -17.78; // 0 F\n}\nfunction getF(c) {\n  return trunc((9 / 5) * c + 32) || 32; // 0 C\n}\nlet r = /^-?\\d*.?\\d*$/;\nfunction isValid(temp) {\n  if (/^-?\\d*$/.test(temp)) return true;\n  if (/^-?\\d+[.]?\\d*$/.test(temp)) return true;\n  return false;\n}\n\nexport const temperatureConverter = () => {\n  let c = o(0);\n  let f = o(32);\n\n  const updateFromC = e => update(e, c, f, getF);\n  const updateFromF = e => update(e, f, c, getC);\n\n  const update = (e, from, to, get) => {\n    let value = e.target.value; //|| \"0\";\n    if (!isValid(value)) return;\n    value = remove0(value)\n    from(value)\n    to(get(value))\n  };\n\n  return html`\n    <${card} title=\"Temperature Converter\">\n      <span>\n        <input value=${c} oninput=${updateFromC} />\n        Celsius\n      </span>\n      =\n      <span>\n        <input value=${f} oninput=${updateFromF} />\n        Fahrenheit\n      </span>\n    <//>\n  `;\n};\n","import { html, o } from \"sinuous\";\nimport { S } from \"sinuous/observable\";\nimport { card } from \"../components/card\";\nimport \"./flightBooker.css\";\n\nlet flightMap = {\n  1: \"one-way flight\",\n  2: \"return flight\"\n};\n\nfunction tryAsDate(dateString) {\n  let dateArr = dateString.split(\".\").reverse();\n  if (dateArr[1].length !== 2 || dateArr[2].length !== 2) {\n    return false;\n  }\n  let date = new Date(dateArr.join(\"-\"));\n  return date.valueOf() || false;\n}\n\nfunction formatAsString(date) {\n  return date\n    .toISOString()\n    .slice(0, 10)\n    .split(\"-\")\n    .reverse()\n    .join(\".\");\n}\n\nexport const flightBooker = () => {\n  let flightType = o(1);\n  let startDate = o(formatAsString(new Date()));\n  let returnDate = o(formatAsString(new Date()));\n\n  let error1 = S(() => !tryAsDate(startDate()));\n  let error2 = S(() => !tryAsDate(returnDate()));\n  let error3 = S(() => tryAsDate(returnDate()) < tryAsDate(startDate()));\n\n  let isBookButtonDisabled = S(() => error1() || error2() || error3());\n  let isOneWay = S(() => flightType() === 1);\n  let startDateClass = S(() => (error1() ? \"error\" : \"\"));\n  let returnDateClass = S(() => (error2() ? \"error\" : \"\"));\n\n  function book() {\n    let timeStrings = {\n      1: \" for \" + startDate(),\n      2: \" from \" + startDate() + \" to \" + returnDate()\n    };\n    alert(\n      \"You have booked a \" + flightMap[flightType()] + timeStrings[flightType()]\n    );\n  }\n\n  return html`\n    <${card} title=\"Flight Booker\">\n      <div>\n        <select value=${flightType} onchange=${e => flightType(e.target.value)}>\n          <option value=\"{1}\">${flightMap[1]}</option>\n          <option value=\"{2}\">${flightMap[2]}</option>\n        </select>\n        <input\n          value=${startDate}\n          class=${startDateClass}\n          oninput=${e => startDate(e.target.value)}\n        />\n        <input\n          value=${returnDate}\n          class=${returnDateClass}\n          oninput=${e => returnDate(e.target.value)}\n          disabled=${isOneWay}\n        />\n        <button onclick=${book} disabled=${isBookButtonDisabled}>\n          Book\n        </button>\n      </div>\n    <//>\n  `;\n};\n","import { html, o } from \"sinuous\";\nimport { S } from \"sinuous/observable\";\nimport { card } from \"../components/card\";\n\nimport \"./timer.css\";\n\nexport const timer = () => {\n  const MAX = 30000;\n\n  let duration = o(5000);\n  let durationFormatted = S(() => (duration() / 1000).toFixed(1));\n  let start = o();\n  let time = o();\n  let progress = S(() => (time() - start()) / duration());\n  let interval;\n\n  function createInterval() {\n    return setInterval(() => {\n      time(new Date().valueOf());\n    }, 10);\n  }\n  function startTimer() {\n    clearInterval(interval);\n    start(new Date().valueOf());\n    time(start());\n    interval = createInterval();\n  }\n\n  startTimer();\n\n  return html`\n    <${card} title=\"Timer\">\n      <div class=\"wrapper\">\n        Elapsed Time:\n        <progress value=${progress} />\n        <div class=\"duration\">${durationFormatted}s</div>\n        Duration:\n        <input\n          type=\"range\"\n          min=${0}\n          max=${MAX}\n          value=${duration}\n          oninput=${e => duration(e.target.value)}\n        />\n        <button onclick=${startTimer}>Reset Timer</button>\n      </div>\n    <//>\n  `;\n};\n","import { html, o } from \"sinuous\";\nimport { S, subscribe } from \"sinuous/observable\";\nimport { card } from \"../components/card\";\n\nimport \"./crud.css\";\n\nexport const crud = () => {\n  let prefix = o(\"\");\n  let entries = o([\n    o([\"Paul\", \"Atreides\"]),\n    o([\"Gurney\", \"Halleck\"]),\n    o([\"Duncan\", \"Idaho\"])\n  ]);\n  let filteredEntries = S(() =>\n    // get filtered entries in which entry[1] startsWith prefix\n    // get array of [entry[0], entry[1], index]  \n    entries()\n      .map((entry, i) => [entry()[0], entry()[1], i])\n      .filter(entry =>\n        entry[1].toLowerCase().startsWith(prefix().toLowerCase())\n      )\n  );\n  let name = o(\"\");\n  let surname = o(\"\");\n  let selected = o(-1)\n  subscribe(() => {prefix(); selected(-1)});\n\n  function createHandler() {\n    entries(entries().concat(o([name(), surname()])));\n  }\n  function updateHandler() {\n    // if selected > -1 then update entries[selected]\n    selected() > -1 && entries()[selected()]([name(), surname()]);\n  }\n  function deleteHandler() {\n    // if selected > -1 then delete entries[selected]\n    selected() > -1 && entries(entries().filter((entry, i) => i != selected()));\n  }\n\n  return html`\n    <${card} title=\"CRUD\">\n      <div class=\"wrapper\">\n        Filter prefix:\n        <input value=${prefix} oninput=${e => prefix(e.target.value)} />\n        <select\n          value=${selected}\n          oninput=${e => selected(e.target.value)}\n          size=\"4\"\n        >\n          ${() =>\n            filteredEntries().map(\n              entry => html`\n                <option value=${entry[2]}>${entry[1]}, ${entry[0]}</option>\n              `\n            )}\n        </select>\n        <div>\n          Name:\n          <input value=${name} oninput=${e => name(e.target.value)} />\n          Surname:\n          <input value=${surname} oninput=${e => surname(e.target.value)} />\n        </div>\n        <div class=\"buttons\">\n          <button onclick=${createHandler}>Create</button>\n          <button onclick=${updateHandler}>Update</button>\n          <button onclick=${deleteHandler}>Delete</button>\n        </div>\n      </div>\n    <//>\n  `;\n};\n","import { html, o, svg } from \"sinuous\";\nimport { subscribe, sample } from \"sinuous/observable\";\nimport { card } from \"../components/card\";\n\nimport \"./circleDrawer.css\";\n\nexport const circleDrawer = () => {\n  const BASE_RADIUS = 30;\n\n  let step = o(0);\n  let snapshots = o([o([])]);\n  let radius = o(BASE_RADIUS);\n  let resizing = o(false);\n  let present = o([]);\n  subscribe(() => present(snapshots()[step()]()));\n  subscribe(() => {\n    if (resizing()) {\n      let resizingIndex = sample(present).findIndex(\n        circle => circle.x === resizing().x && circle.y === resizing().y\n      );\n      let newPresent = sample(present).slice();\n      newPresent[resizingIndex] = {\n        ...sample(present)[resizingIndex],\n        r: Number(radius())\n      };\n      present(newPresent);\n    }\n  });\n\n  function handleRightClick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    let circle = e.target;\n    resizing({\n      x: circle.cx.baseVal.value,\n      y: circle.cy.baseVal.value,\n      r: circle.r.baseVal.value\n    });\n    radius(resizing().r);\n  }\n\n  function addCircle(e) {\n    let x = e.layerX;\n    let y = e.layerY;\n    let newSnapshot = present().slice();\n    newSnapshot.push({ x, y, r: BASE_RADIUS });\n    addSnapshot(o(newSnapshot));\n  }\n\n  function addSnapshot(newSnapshot) {\n    let newSnapshots = snapshots().slice(0, step() + 1);\n    newSnapshots.push(newSnapshot);\n    snapshots(newSnapshots);\n    step(step() + 1);\n  }\n\n  function undo() {\n    step(Math.max(step() - 1, 0));\n  }\n\n  function redo() {\n    step(Math.min(step() + 1, snapshots().length - 1));\n  }\n\n  function endResize() {\n    if (radius() !== resizing().r) {\n      resizing(false);\n      radius(BASE_RADIUS);\n      addSnapshot(o(present().slice()));\n    }\n    resizing(false);\n  }\n\n  const overlay = () => html`\n    <div class=\"overlay\" onclick=${endResize}></div>\n    <div class=\"resizer\">\n      <p>\n        Adjust radius of circle at (${() => resizing().x},\n        ${() => resizing().y})\n      </p>\n      <p>${radius}</p>\n      <input\n        type=\"range\"\n        min=${0}\n        max=${100}\n        value=${radius}\n        oninput=${e => radius(e.target.value)}\n      />\n    </div>\n  `;\n\n  const circleSVG = ({ circle, handleRightClick }) => {\n    return svg`\n      <circle\n        cx=${circle.x}\n        cy=${circle.y}\n        r=${circle.r}\n        fill=\"white\"\n        stroke=\"black\"\n        onclick=${e => {\n          e.preventDefault();\n          e.stopPropagation();\n        }}\n        oncontextmenu=${handleRightClick}\n      />\n    `;\n  };\n\n  const view = html`\n    <${card} title=\"Circle Drawer\">\n      <div class=\"wrapper\">\n        <div class=\"buttons\">\n          <button disabled=${() => !step()} onclick=${undo}>Undo</button>\n          <button\n            disabled=${() => step() === snapshots().length - 1}\n            onclick=${redo}\n          >\n            Redo\n          </button>\n        </div>\n        <div class=\"canvas\">\n          ${() => svg`\n            <svg onclick=${addCircle}>\n              ${() =>\n                present().map(\n                  cir =>\n                    html`\n                      <${circleSVG}\n                        circle=${cir}\n                        handleRightClick=${handleRightClick}\n                      />\n                    `\n                )}\n            </svg>\n          `}\n        </div>\n        ${() => resizing() && overlay}\n      </div>\n    <//>\n  `;\n\n  return view;\n};\n","export let sampleData = {\n  A0: 'Data',\n  A1: '20',\n  A2: '15',\n  A3: 'text',\n  B1: '79',\n  B2: '3.9',\n  A5: 'Formula',\n  B5: 'Output',\n  A6: '\"=sum(D1:D5)\"',\n  B6: '=sum(D1:D5)',\n  A7: '\"=sub(A1:B2)\"',\n  B7: '=sub(A1:B2)',\n  A8: '\"=mul(D1:D5)\"',\n  B8: '=mul(D1:D5)',\n  A9: '\"=div(A1:B2)\"',\n  B9: '=div(A1:B2)',\n  A10: '\"=mod(A1:B2)\"',\n  B10: '=mod(A1:B2)',\n  C0: 'Formula',\n  D0: 'Output',\n  C1: '\"=sum(A1,A2)\"',\n  D1: '=sum(A1,A2)',\n  C2: '\"=sub(D1,A1)\"',\n  D2: '=sub(D1,A1)',\n  C3: '\"=mul(D2,A2)\"',\n  D3: '=mul(D2,A2)',\n  C4: '\"=div(D3,A1)\"',\n  D4: '=div(D3,A1)',\n  C5: '\"=mod(A1,A2)\"',\n  D5: '=mod(A1,A2)',\n  C7: '\"=sum(A1,A3)\"',\n  D7: '=sum(A1,A3)',\n  C8: '\"=sum(A1,A4)\"',\n  D8: '=sum(A1,A4)',\n  C9: '\"=sumA1,A4)\"',\n  D9: '=sumA1,A4)',\n  C10: '\"=sm(A1,A4)\"',\n  D10: '=sm(A1,A4)',\n  C11: '\"=sum(A1,307)\"',\n  D11: '=sum(A1,307)',\n  C12: '\"=sum(159,4)\"',\n  D12: '=sum(159,4)',\n  C14: '\"=A1\"',\n  D14: '=A1',\n  C15: '\"=A3\"',\n  D15: '=A3'\n}\n","import {subscribe} from 'sinuous/observable'\n\nexport class Parser {\n  constructor(store, columns, rows) {\n    this.cells = {}\n    this.store = store\n    this.columns = columns\n    this.rows = rows\n    this.operations = {\n      sum: (a, b) => a + b,\n      sub: (a, b) => a - b,\n      mul: (a, b) => a * b,\n      div: (a, b) => a / b,\n      mod: (a, b) => a % b,\n      exp: (a, b) => a ** b\n    }\n\n    subscribe(() => this.cells = this.store())\n  }\n\n  cartesianProduct(letters, numbers) {\n    var result = []\n    letters.forEach(letter => {\n      numbers.forEach(number => {\n        result.push(letter + number)\n      })\n    })\n    return result\n  }\n\n  findArrRange(arr, start, end) {\n    let startI = arr.indexOf(start)\n    let endI = arr.indexOf(end)\n    if (startI == -1 || endI == -1 || startI > endI) return []\n    return arr.slice(startI, endI + 1)\n  }\n\n  getRange(rangeStart, rangeEnd) {\n    rangeStart = this.splitOperand(rangeStart)\n    rangeEnd = this.splitOperand(rangeEnd)\n    let letters = this.findArrRange(this.columns, rangeStart[0], rangeEnd[0])\n    let numbers = this.findArrRange(this.rows, rangeStart[1], rangeEnd[1])\n    return this.cartesianProduct(letters, numbers)\n  }\n\n  splitOperand(operand) {\n    return [operand.match(/[a-zA-Z]+/)[0], Number(operand.match(/\\d+/)[0])]\n  }\n\n  rangeOperation(op, rangeStart, rangeEnd) {\n    if (!(this.isWellFormed(rangeStart) && this.isWellFormed(rangeEnd)))\n      return this.originalString\n\n    let range = this.getRange(rangeStart, rangeEnd)\n\n    return range\n      .map(address => Number(this.parse(this.cells[address]())))\n      .reduce(this.operations[op])\n  }\n\n  singleOperation(op, operand1, operand2) {\n    let first = this.parseOperand(operand1)\n    let second = this.parseOperand(operand2)\n\n    if (first === null || second === null) return this.originalString\n\n    return this.operations[op](first, second).toString()\n  }\n\n  isWellFormed(operand) {\n    return /[a-zA-Z]+\\d+/.test(operand)\n  }\n\n  parseOperand(operand) {\n    if (!isNaN(Number(operand))) return Number(operand)\n    if (operand in this.cells) return Number(this.parse(this.cells[operand]()))\n    if (this.isWellFormed(operand)) return 0\n\n    return null\n  }\n\n  parseOperation(op, formula) {\n    if (!(formula.startsWith('(') && formula.endsWith(')')))\n      return this.originalString\n\n    formula = formula.slice(1, formula.length - 1)\n\n    let operationType\n    let formulaArr\n    if (formula.includes(',')) {\n      operationType = 'single'\n      formulaArr = formula.split(',')\n    } else if (formula.includes(':')) {\n      operationType = 'range'\n      formulaArr = formula.split(':')\n    }\n\n    if (formulaArr.length !== 2) return this.originalString\n\n    if (operationType === 'single')\n      return this.singleOperation(op, formulaArr[0], formulaArr[1])\n\n    if (operationType === 'range')\n      return this.rangeOperation(op, formulaArr[0], formulaArr[1])\n\n    return this.originalString\n  }\n\n  parse(str) {\n    this.originalString = str\n    if (typeof str !== 'string') return ''\n    if (!str.startsWith('=')) return str\n\n    let formula = str.slice(1)\n    if (formula.slice(0, 3).toLowerCase() in this.operations) {\n      return this.parseOperation(\n        formula.slice(0, 3).toLowerCase(),\n        formula.slice(3).toUpperCase()\n      )\n    } else {\n      return this.cells[formula] || str\n    }\n  }\n}\n","import { html, o } from \"sinuous\";\nimport { sample } from \"sinuous/observable\";\nimport { card } from \"../../components/card\";\nimport { sampleData } from \"./sampleData.js\";\nimport { Parser } from \"./parse.js\";\n\nimport \"./cells.css\";\n\nconst LETTERS = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\nfunction range(n) {\n  return [...Array(n).keys()];\n}\nfunction letterRange(n) {\n  return range(n).map(getNumberAsLetters);\n}\nfunction getBase26(n) {\n  let result = [];\n  while (n > 25) {\n    let remainder = n % 26;\n    result.push(remainder);\n    n = Math.floor(n / 26) - 1;\n  }\n  result.push(n);\n  return result.reverse();\n}\nfunction getNumberAsLetters(n) {\n  let arr = getBase26(n);\n  return arr.map(num => LETTERS[num]).join(\"\");\n}\nfunction findAdjacent(arr, value, direction) {\n  let index = arr.indexOf(value);\n  if (index === -1) return null;\n  if (direction === \"before\")\n    return arr[index - 1] === undefined ? null : arr[index - 1];\n  if (direction === \"after\") return arr[index + 1] || null;\n  return null;\n}\n\nexport const cells = (props) => {\n  let shape = props && props.shape || [100, 100]\n  \n  Object.keys(sampleData).forEach(key => {\n    // Make each entry an observable\n    sampleData[key] = o(sampleData[key]);\n  });\n  const data = o(sampleData);\n\n  const rows = range(shape[1]);\n  const columns = letterRange(shape[0]);\n  const p = new Parser(data, columns, rows);\n\n  let focused = o(undefined);\n  let tBody; // Used as a ref\n\n  function createNewCell(key) {\n    let dataRef = sample(data);\n    if (!dataRef[key]) {\n      dataRef[key] = o(\"\");\n      data(dataRef);\n    }\n  }\n\n  function handleFocus(e, key) {\n    createNewCell(key)\n    focused(key);\n    setTimeout(() => {\n      // The timeout allows the selection to occur after\n      // the parsing switch inside a cell\n      e.target.setSelectionRange(0, 9999);\n    }, 10);\n  }\n\n  function handleBlur() {\n    focused(undefined);\n  }\n\n  function handleInput(e, key) {\n    sample(data)[key](e.target.value);\n  }\n\n  function handleKeydown(e, column, row) {\n    // Navigate across the spreadsheet with arrow keys (and alt/option key)\n    let selector;\n    if (e.key === \"ArrowUp\") {\n      let newRow = findAdjacent(rows, row, \"before\");\n      selector = newRow !== null ? column + newRow : null;\n    }\n    if (e.key === \"ArrowDown\" || e.key === \"Enter\") {\n      let newRow = findAdjacent(rows, row, \"after\");\n      selector = newRow !== null ? column + newRow : null;\n    }\n    if (e.key === \"ArrowLeft\" && e.altKey) {\n      let newColumn = findAdjacent(columns, column, \"before\");\n      selector = newColumn !== null ? newColumn + row : null;\n    }\n    if (e.key === \"ArrowRight\" && e.altKey) {\n      let newColumn = findAdjacent(columns, column, \"after\");\n      selector = newColumn !== null ? newColumn + row : null;\n    }\n\n    if (selector) {\n      e.preventDefault();\n      let input = tBody.querySelector(\"#input-\" + selector);\n      input.focus();\n    }\n  }\n\n  function clear() {\n    data({});\n  }\n\n  const view = html`\n    <${card} title=\"Cells\">\n      <div class=\"wrapper\">\n        <table>\n          <thead>\n            <tr>\n              <td class=\"row-key\"></td>\n              ${() =>\n                columns.map(\n                  column =>\n                    html`\n                      <td class=\"column-key\">${column}</td>\n                    `\n                )}\n            </tr>\n          </thead>\n          <tbody>\n            ${() =>\n              rows.map(\n                i => html`\n                  <tr id=${\"row-\" + i}>\n                    <td class=\"row-key\">${i}</td>\n                    ${() =>\n                      columns.map(\n                        j => html`\n                          <td id=${j + i}>\n                            <input\n                              id=${\"input-\" + j + i}\n                              value=${() => {\n                                return (j+i) in data()\n                                  ? focused() === j + i\n                                    ? data()[j + i]()\n                                    : p.parse(data()[j + i]())\n                                  : \"\";\n                              }}\n                              onfocus=${e => handleFocus(e, j + i)}\n                              onblur=${handleBlur}\n                              onkeydown=${e => handleKeydown(e, j, i)}\n                              oninput=${e => handleInput(e, j + i)}\n                            />\n                          </td>\n                        `\n                      )}\n                  </tr>\n                `\n              )}\n          </tbody>\n        </table>\n      </div>\n      <button onclick=${clear}>Clear</button>\n    <//>\n  `;\n\n  tBody = view.querySelector(\"tbody\"); // Assign ref to domNode\n\n  return view;\n};\n","import {html} from 'sinuous'\nimport './app.css'\n\nimport {counter} from './tasks/counter'\nimport {temperatureConverter} from './tasks/temperatureConverter'\nimport {flightBooker} from './tasks/flightBooker'\nimport {timer} from './tasks/timer'\nimport {crud} from './tasks/crud'\nimport {circleDrawer} from './tasks/circleDrawer'\nimport {cells} from './tasks/cells/cells'\n\nexport const app = () => {\n  return html`\n    <main className=\"App\">\n      <a href=\"../../index.html\">Home</a>\n\n      <${counter} />\n      <${temperatureConverter} />\n      <${flightBooker} />\n      <${timer} />\n      <${crud} />\n      <${circleDrawer} />\n      <${cells} />\n    </main>\n  `;\n} ","import {app} from './app'\n\ndocument.querySelector('#root').append(app())","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}